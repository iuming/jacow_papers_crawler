














ICALEPCS2019 - Table of Session: TUBPR (Timing and Synchronization)


TUBPR —  Timing and Synchronization   (08-Oct-19   11:15—13:00)
Chair: O. Matilla, ALBA-CELLS Synchrotron, Cerdanyola del Vallès, Spain


Paper
Title
Page



TUBPR01
The Distributed Oscilloscope: A Large-Scale Fully Synchronised Data Acquisition System Over White Rabbit
725


 

D. Lampridis, T. Gingold, M. Malczak, F. Vaga, T. Włostowski, A. Wujek
                       CERN, Geneva, Switzerland
M. Malczak
                       Warsaw University of Technology, Institute of Electronic Systems, Warsaw, Poland

 


 

A common need in large scientific experiments is the ability to monitor by means of simultaneous data acquisition across the whole installation. Data is acquired as a result of triggers which may either come from external sources, or from internal triggering of one of the acquisition nodes. However, a problem arises from the fact that once the trigger is generated, it will not arrive to the receiving nodes simultaneously, due to varying distances and environmental conditions. The Distributed Oscilloscope (DO) concept attempts to address this problem by leveraging the sub-nanosecond synchronization and deterministic data delivery provided by White Rabbit (WR) and augmenting it with automatic discovery of acquisition nodes and complex trigger event scheduling, in order to provide the illusion of a virtual oscilloscope. This paper presents the current state of the DO, including work done on the FPGA and software level to enhance existing acquisition hardware, as well as a new protocol based on existing industrial standards. It also includes test results obtained from a demonstrator based on two digitizers separated by a 10 km optical fiber, used as a showcase of the DO concept.

 






Slides TUBPR01 [10.026 MB]
        
 


DOI •
reference for this paper 
              ※ https://doi.org/10.18429/JACoW-ICALEPCS2019-TUBPR01

 


About •
paper received ※ 27 September 2019       paper accepted ※ 10 October 2019        issue date ※ 30 August 2020
 


Export •
reference for this paper using 
              ※ BibTeX, 
              ※ LaTeX, 
              ※ Text/Word, 
              ※ RIS, 
              ※ EndNote (xml)

 


 



TUBPR02
A 4-Channel, 7 ns-Delay Tuning Range, 400 fs-Step, 1.8 ps RMS Jitter, Delay Generator Implemented in a 180 nm CMOS Technology
733


 

F.C. Badets, G.A. Billiot, S. Bouquet, B. Caillat, A. Fustier, F. Lepin, C. Magnier, G. Regis, A. Spataro
                       CEA, Grenoble, France
D. Monnier-Bourdin, B. Riondet
                       Greenfield Technology, Massy, France

 


 

This paper discloses the integration, in a 180 nm CMOS technology, of a 4-channel delay generator dedicated to synchronization down to a few ps. The delay generation principle relies on the linear charge of a capacitor triggered by the input pulse. The output pulse generation occurs when the capacitor voltage exceeds a threshold voltage. The delay full scale is automatically set to match the period of the master clock, ranging from 5-7 ns, with the help of an embedded calibration circuit. The delay value is controlled with the help of a 14-bit DAC setting the threshold voltage, which leads to a 400 fs delay step. Among other features, the chip embeds a combination mode of either 2 or 4 channels to output narrow width pulses. The chip is fully compliant with LVDS, LVPECL and CML differential input pulses and outputs LVPECL pulses. The chip has been fully characterized over temperature (0 to 60 °C) and supply voltage (± 10%). The chip is compliant with pulse repetition frequencies up to 20 MHz. The measured INL is 100 LSB and the RMS jitter is 1.8 ps. The power consumption has been measured to 350 mW for 4 active channels.

 






Slides TUBPR02 [5.312 MB]
        
 


DOI •
reference for this paper 
              ※ https://doi.org/10.18429/JACoW-ICALEPCS2019-TUBPR02

 


About •
paper received ※ 30 September 2019       paper accepted ※ 09 October 2019        issue date ※ 30 August 2020
 


Export •
reference for this paper using 
              ※ BibTeX, 
              ※ LaTeX, 
              ※ Text/Word, 
              ※ RIS, 
              ※ EndNote (xml)

 


 



TUBPR03
Major Upgrade of the HIT Accelerator Control System Using PTP and TSN Technology
738


 

A. Peters, J.M. Mosthaf, C. Schömers
                       HIT, Heidelberg, Germany

 


 

Two important reasons led to the first developments for a new ACS for the HIT ion therapy accelerator complex: a) the first implementation of the ACS was done in 2003-2005 resulting in well-functioning, but mostly proprietary solutions more and more components of e.g. the specially built device control units (DCUs*) are becoming discontinued, thus a new realization using standard SoCs or similar is necessary; b) new functionality like multiple energy operation** should enhance the duty factor of the accelerator facility resulting in significantly higher patient irradiation efficiency. In cooperation with our commercial partner we are investigating the newly available deterministic Ethernet technologies like "Time-Sensitive Networking" with several IEEE 802.1xx standards. Early TSN implementations in embedded controller boards and switches were obtained in a test installation in autumn of 2018 to study feasibility, e.g. the required timing precision using PTP (resp. IEEE 802.1AS-Rev) to realize a "one-wire-ACS" based on Ethernet only for deterministic data transfer and message based triggers for synchronized ACS functions. We will report on our test bench experiences.
*R. Baer, Status and conceptual design of the control system for … HICAT, ICALEPCS 2005  **M. Galonska, Multi-energy trial operation of the HIT medical synchrotron, IPAC 2017 

 






Slides TUBPR03 [3.816 MB]
        
 


DOI •
reference for this paper 
              ※ https://doi.org/10.18429/JACoW-ICALEPCS2019-TUBPR03

 


About •
paper received ※ 02 October 2019       paper accepted ※ 09 October 2019        issue date ※ 30 August 2020
 


Export •
reference for this paper using 
              ※ BibTeX, 
              ※ LaTeX, 
              ※ Text/Word, 
              ※ RIS, 
              ※ EndNote (xml)

 


 



TUBPR04
The Fault Diagnosis of Event Timing System in SuperKEKB
741


 

D. Wang
                       Sokendai, Ibaraki, Japan
K. Furukawa, H. Kaji, M. Satoh, H. Sugimura
                       KEK, Ibaraki, Japan
Y. Iitsuka
                       EJIT, Hitachi, Ibaraki, Japan
T. Kudou, S. Kusano
                       Mitsubishi Electric System & Service Co., Ltd, Tsukuba, Japan

 


 

Funding: Work supported China Scholarship Council
The new MRF event timing system is one of the most important components to maintain the reliable and stable operation of the SuperKEKB project. This system is utilized to distribute high precision level timing signals and accompanying control instructions to synchronize different subsystems and machines. Event generator (EVG) generates signals of different beam modes every 50 Hz pulse which contains several event codes while Event receivers (EVR) receives them and output signals to dedicated devices all over the installation. To certain these events are consistent during the distribution, an event fault diagnosis system is essentially needed. An EVR based event timing diagnostic system is thus developed by modifying the driver support module to provide a log system of persistent event data as well as comparing the received event codes with the beam injector pattern, detecting the event timing interval fault and notifying the results by email every day. Then, we are able to locate the fault, analyze the data, fix bugs or replace hardware and resume accelerator operation quickly.

 






Slides TUBPR04 [2.076 MB]
        
 


DOI •
reference for this paper 
              ※ https://doi.org/10.18429/JACoW-ICALEPCS2019-TUBPR04

 


About •
paper received ※ 30 September 2019       paper accepted ※ 10 October 2019        issue date ※ 30 August 2020
 


Export •
reference for this paper using 
              ※ BibTeX, 
              ※ LaTeX, 
              ※ Text/Word, 
              ※ RIS, 
              ※ EndNote (xml)

 


 



TUBPR05
LEReC Timing Synchronization with RHIC Beam
746


 

P.K. Kankiya, M.R. Costanzo, J.P. Jamilkowski
                       BNL, Upton, New York, USA

 


 

Funding: Work supported by Brookhaven Science Associates, LLC under Contract No. DE-SC0012704 with the U.S. Department of Energy
In RHIC low energy bunched beam cooling experiment, LEReC, a 704 MHz fiber laser is modulated such that when striking a photocathode, it produces corresponding electron bunches which are accelerated and transported to overlap an ion beam bunched at 9 MHz RF frequency The need for precise timing is handled well by the existing infrastructure. A layer of software application called the timing manager has been created to track the LEReC beam concerning the RHIC beam and allow instruments to be fired in real-time units instead of bunch timing or RHIC turns. The manager also automates set-tings of different modes based on the RF frequency and maintains the timing of instrumentation with a beam. A detailed description of the bunch structure and scheme of synchronizing the RF and laser pulses will be discussed in the paper.

 






Slides TUBPR05 [4.693 MB]
        
 


DOI •
reference for this paper 
              ※ https://doi.org/10.18429/JACoW-ICALEPCS2019-TUBPR05

 


About •
paper received ※ 04 October 2019       paper accepted ※ 09 October 2019        issue date ※ 30 August 2020
 


Export •
reference for this paper using 
              ※ BibTeX, 
              ※ LaTeX, 
              ※ Text/Word, 
              ※ RIS, 
              ※ EndNote (xml)

 


 



TUBPR06
Laser Megajoule Timing System
749


 

T. Somerlinck, T. Falgon
                       CEA, LE BARP cedex, France
N. Bazoge, S. Hocquet, D. Monnier-Bourdin
                       Greenfield Technology, Massy, France

 


 

The aim of the Laser Megajoule facility (LMJ) is to deliver more than 1 MJ of laser energy to targets for high energy density physics experiments. In association with Greenfield Technology, we developed a specific timing system to synchronize the 176 laser beams on the target with a precision better than 40 ps rms and to trigger and mark plasma diagnostics. The final architecture, settled and used since three years, is based on a master oscillator that sends a clock with serial data through a fiber-optic network, allowing to synchronize more than 500 delay generators spread over the large LMJ facility. The settings of each laser beam and the various experiments require different sampling rates (multi to single shot) and 16 groups for coactivity. Three kinds of delay generators, electrical and optical, are designed for standard precision (<150 ps jitter) and the third is designed for high precision. Each output deliver trigger or fiducial signals with jitter down to 5 ps and peak-to-peak wander less than 10 ps over a week. Test performance of this LMJ timing system is in progress all over the LMJ facility. Besides it will be installed on the petawatt laser (PETAL) this year.

 






Slides TUBPR06 [58.283 MB]
        
 


DOI •
reference for this paper 
              ※ https://doi.org/10.18429/JACoW-ICALEPCS2019-TUBPR06

 


About •
paper received ※ 30 September 2019       paper accepted ※ 10 October 2019        issue date ※ 30 August 2020
 


Export •
reference for this paper using 
              ※ BibTeX, 
              ※ LaTeX, 
              ※ Text/Word, 
              ※ RIS, 
              ※ EndNote (xml)

 


 




