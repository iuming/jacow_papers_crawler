













ICALEPCS2013 - Table of Session: FRCOAAB (Experiment Control -2)


FRCOAAB —  Experiment Control -2   (11-Oct-13   09:00—11:45)
Chair: N. Neufeld, CERN, Geneva, Switzerland


Paper
Title
Page



FRCOAAB01
CSS Scan System
1461


 

K.-U. Kasemir, X.H. Chen
                       ORNL, Oak Ridge, Tennessee, USA
E.T. Berryman
                       NSCL, East Lansing, Michigan, USA

 


 

Funding: SNS is managed by UT-Battelle, LLC, under contract DE-AC05-00OR22725 for the U.S. Department of Energy
Automation of beam line experiments requires more flexibility than the control of an accelerator. The sample environment devices to control as well as requirements for their operation can change daily. Tools that allow stable automation of an accelerator are not practical in such a dynamic environment. On the other hand, falling back to generic scripts opens too much room for error. The Scan System offers an intermediate approach. Scans can be submitted in numerous ways, from pre-configured operator interface panels, graphical scan editors, scripts, the command line, or a web interface. At the same time, each scan is assembled from a well-defined set of scan commands, each one with robust features like error checking, time-out handling and read-back verification. Integrated into Control System Studio (CSS), scans can be monitored, paused, modified or aborted as needed. We present details of the implementation and first usage experience.

 






Slides FRCOAAB01 [1.853 MB]
            
 


 



FRCOAAB02
Karabo:  An Integrated Software Framework Combining Control, Data Management, and Scientific Computing Tasks
1465


 

B.C. Heisen, D. Boukhelef, S.G. Esenov, S. Hauf, I. Kozlova, L.G. Maia, A. Parenti, J. Szuba, K. Weger, K. Wrona, C. Youngman
                       XFEL. EU, Hamburg, Germany

 


 

The expected very high data rates and volumes at the European XFEL demand an efficient concurrent approach of performing experiments. Data analysis must already start whilst data is still being acquired and initial analysis results must immediately be usable to re-adjust the current experiment setup. We have developed a software framework, called Karabo, which allows such a tight integration of these tasks. Karabo is in essence a pluggable, distributed application management system. All Karabo applications (called “Devices”) have a standardized API for self-description/configuration, program-flow organization (state machine), logging and communication. Central services exist for user management, access control, data logging, configuration management etc. The design provides a very scalable but still maintainable system that at the same time can act as a fully-fledged control or a highly parallel distributed scientific workflow system. It allows simple integration and adaption to changing control requirements and the addition of new scientific analysis algorithms, making them automatically and immediately available to experimentalists.

 






Slides FRCOAAB02 [2.523 MB]
            
 


 



FRCOAAB03
Experiment Control and Analysis for High-Resolution Tomography
1469


 

N. Schwarz, F. De Carlo, A. Glowacki, J.P. Hammonds, F. Khan, K. Yue
                       ANL, Argonne, USA

 


 

Funding: Work supported by U.S. Department of Energy, Office of Science, under Contract No. DE-AC02-06CH11357.
X-ray Computed Tomography (XCT) is a powerful technique for imaging 3D structures at the micro- and nano-levels. Recent upgrades to tomography beamlines at the APS have enabled imaging at resolutions up to 20 nm at increased pixel counts and speeds. As detector resolution and speed increase, the amount of data that must be transferred and analyzed also increases. This coupled with growing experiment complexity drives the need for software to automate data acquisition and processing. We present an experiment control and data processing system for tomography beamlines that helps address this concern. The software, written in C++ using Qt, interfaces with EPICS for beamline control and provides live and offline data viewing, basic image manipulation features, and scan sequencing that coordinates EPICS-enabled apparatus. Post acquisition, the software triggers a workflow pipeline, written using ActiveMQ, that transfers data from the detector computer to an analysis computer, and launches a reconstruction process. Experiment metadata and provenance information is stored along with raw and analyzed data in a single HDF5 file.

 






Slides FRCOAAB03 [1.707 MB]
            
 


 



FRCOAAB04
Data Driven Campaign Management at the National Ignition Facility
1473


 

D.E. Speck, B.A. Conrad, S.R. Hahn, P.D. Reisdorf, S.M. Reisdorf
                       LLNL, Livermore, California, USA

 


 

Funding: * This work performed under the auspices of the U.S. Department of Energy by Lawrence Livermore National Laboratory under Contract DE-AC52-07NA27344. #LLNL-ABS-633255
The Campaign Management Tool Suite (CMT) provides tools for establishing the experimental goals, achieving reviews and approvals, and ensuring readiness for a NIF experiment. Over the last 2 years, CMT has significantly increased the number of diagnostics that supports to around 50. Meeting this ever increasing demand for new functionality has resulted in a design whereby more and more of the functionality can be specified in data rather than coded directly in Java. To do this support tools have been written that manage various aspects of the data and to also handle potential inconsistencies that can arise from a data driven paradigm. For example; drop down menus are specified in the Part and Lists Manager, the Shot Setup reports that lists the configurations for diagnostics are specified in the database, the review tool Approval Manager has a rules engine that can be changed without a software deployment, various template managers are used to provide predefined entry of hundreds parameters and finally a stale data tool validates that experiments contain valid data items. The trade-offs, benefits and issues of adapting and implementing this data driven philosophy will be presented.

 






Slides FRCOAAB04 [0.929 MB]
            
 


 



FRCOAAB05
JOGL Live Rendering Techniques in Data Acquisition Systems
1477


 

C. Cocho, F. Cecillon, A. Elaazzouzi, Y. Le Goc, J. Locatelli, P. Mutti, H. Ortiz, J. Ratel
                       ILL, Grenoble, France

 


 

One of the major challenges in instrument control is to provide a fast and scientifically correct representation of the data collected by the detector through the data acquisition system. Despite the availability nowadays of a large number of excellent libraries for off-line data plotting, the real-time 2D and 3D data rendering still suffers of performance issues related namely to the amount of information to be displayed. The current paper describes new methods of image generation (rendering) based on JOGL library used for data acquisition at the Institut Laue-Langevin (ILL) on instruments that require either high image resolution or large number of images rendered at the same time. These new methods involve the definition of data buffers and the usage of the GPU memory, technique known as Vertex Buffer Object (VBO). Implementation of different modes of rendering, on-screen and off-screen, will be also detailed.

 






Slides FRCOAAB05 [1.422 MB]
            
 


 



FRCOAAB06
A Common Software Framework for FEL Data Acquisition and Experiment Management at FERMI
1481


 

R. Borghes, V. Chenda, A. Curri, G. Kourousias, M. Lonza, M. Prica, M. Pugliese
                       Elettra-Sincrotrone Trieste S.C.p.A., Basovizza, Italy
G. Passos
                       STFC/RAL/ISIS, Chilton, Didcot, Oxon, United Kingdom

 


 

Funding: Work supported in part by the Italian Ministry of University and Research under grants FIRB-RBAP045JF2 and FIRB-RBAP06AWK3
After installation and commissioning, the Free Electron Laser facility FERMI is now open to users. As of December 2012, three experimental stations dedicated to different scientific areas, are available for user research proposals: Low Density Matter (LDM), Elastic & Inelastic Scattering (EIS), and Diffraction & Projection Imaging (DiProI). A flexible and highly configurable common framework has been developed and successfully deployed for experiment management and shot-by-shot data acquisition. This paper describes the software architecture behind all the experiments performed so far; the combination of the EXECUTER script engine with a specialized data acquisition device (FERMIDAQ) based on TANGO. Finally, experimental applications, performance results and future developments are presented and discussed.

 






Slides FRCOAAB06 [5.896 MB]
            
 


 



FRCOAAB07
Operational Experience with the ALICE Detector Control System
1485


 

P.Ch. Chochula, A. Augustinus, A.N. Kurepin, M. Lechman, O. Pinazza, P. Rosinský
                       CERN, Geneva, Switzerland
A.N. Kurepin
                       RAS/INR, Moscow, Russia
O. Pinazza
                       INFN-Bologna, Bologna, Italy

 


 

The first LHC run period, lasting 4 year brought exciting physics results and new insight into the mysteries of the matter. One of the key components in this achievements were the detectors, which provided unprecedented amounts of data of the highest quality. The control systems, responsible for their smooth and safe operation, played a key role in this success. The design of the ALICE Detector Control System (DCS) started more than 12 years ago. High level of standardization and pragmatic design led to a reliable and stable system, which allowed for efficient experiment operation. In this presentation we summarize the overall architectural principles of the system, the standardized components and procedures. The original expectations and plans are compared with the final design. Focus is given on the operational procedures, which evolved with time. We explain, how a single operator can control and protect a complex device like ALICE, with millions of readout channels and several thousand control devices and boards. We explain what we learned during the first years of LHC operation and which improvements will be implemented to provide excellent DCS service during the next years.

 






Slides FRCOAAB07 [7.856 MB]
            
 


 



FRCOAAB08
The LIMA Project Update
1489


 

S. Petitdemange, L. Claustre, A. Homs, R. Homs Regojo, E. Papillon
                       ESRF, Grenoble, France

 


 

LIMA, a Library for Image Acquisition, was developed at the ESRF to control high-performance 2D detectors used in scientific applications. It provides generic access to common image acquisition concepts, from detector synchronization to online data reduction, including image transformations and storage management. An abstraction of the low-level 2D control defines the interface for camera plugins, allowing different degrees of hardware optimizations. Scientific 2D data throughput up to 250 MB/s is ensured by multi-threaded algorithms exploiting multi-CPU/core technologies. Eighteen detectors are currently supported by LIMA, covering CCD, CMOS and pixel detectors, and video GigE cameras. Control system agnostic by design, LIMA has become the de facto 2D standard in the TANGO community. An active collaboration among large facilities, research laboratories and detector manufacturers joins efforts towards the integration of new core features, detectors and data processing algorithms. The LIMA 2 generation will provide major improvements in several key core elements, like buffer management, data format support (including HDF5) and user-defined software operations, among others.

 






Slides FRCOAAB08 [1.338 MB]
            
 


 




