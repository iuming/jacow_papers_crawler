













ICALEPCS2013 - Table of Session: THPPC (Poster 3 and Industrial Exhibition)


THPPC —  Poster 3 and Industrial Exhibition   (10-Oct-13   13:30—15:00)



Paper
Title
Page



THPPC001
Overview of "The Scans" in the Central Control System of TRIUMF's 500 MeV Cyclotron
1090


 

J.J. Pon, K.S. Lee, M. Mouat, P.J. Yogendran
                       TRIUMF, Canada's National Laboratory for Particle and Nuclear Physics, Vancouver, Canada
B. Davison
                       SFU, Burnaby, BC, Canada

 


 

The Controls Group for TRIUMF's 500 MeV cyclotron developed, runs and maintains a software application known as The Scans whose purpose is to: a) log events, b) enunciate alarms and warnings, c) perform simple actions on the hardware, and d) provide software interlocks for machine protection. Since its inception more than 35 years ago, The Scans has increasingly become an essential part for the proper operation of the Cyclotron. This paper gives an overview of The Scans, its advantages and limitations, and desired improvements.

 






Poster THPPC001 [4.637 MB]
            
 


 



THPPC002
Configuration Management for Beam Delivery at TRIUMF/ISAC
1094


 

J.E. Richards, K. Ezawa, R. Keitel
                       TRIUMF, Canada's National Laboratory for Particle and Nuclear Physics, Vancouver, Canada

 


 

The ISAC facility at TRIUMF delivers simultaneous beams from different ion sources to multiple destinations. More beams will be added by the ARIEL facility which is presently under construction. To ensure co-ordination of beam delivery, beam path configuration management has been implemented. The process involves beam path selection, configuration setup and configuration monitoring. In addition save and restore of beam line device settings, scaling of beam optic devices for beam energy and mass, beam path specific operator displays, the ability to compare present and previous beam tunes, and alarm enunciation of device readings outside prescribed ranges are supported. Design factors, re-usability strategies, and results are described.

 






Poster THPPC002 [0.508 MB]
            
 


 



THPPC004

CODAC Standardisation of PLC Communication
1097


 

S. Pande, F. Di Maio, B. Evrard, K. Mahajan, P. Sawantdesai, A. Simelio, A. Wallander, I. Yonekawa
                       ITER Organization, St. Paul lez Durance, France

 


 

As defined by the CODAC Architecture of ITER, a Plant System Host (PSH) and one or more Slow Controllers (SIEMENS PLCs) are connected over a switched Industrial Ethernet (IE) network. An important part of Software Engineering of Slow Controllers is the standardization of communication between PSH and PLCs. Based on prototyping and performance evaluation, Open IE Communication over TCP was selected. It is implemented on PLCs to support the CODAC data model of ‘State’, ‘Configuration’ and ‘Simple Commands’. The implementation is packaged in Standard PLC Software Structure(SPSS) as a part of CODAC Core System release. SPSS can be easily configured by the SDD Tools of CODAC. However Open IE Communication is restricted to the PLC CPUs. This presents a challenge to implement redundant PLC architecture and use remote IO modules. Another version of SPSS is developed to support communication over Communication Processors(CP). The EPICS driver is also extended to support redundancy transparent to the CODAC applications. Issues of PLC communication standardization in the context of CODAC environment and future development of SPSS and EPICS driver are presented here.

 


 



THPPC005
Virtualization Infrastructure within the Controls Environment of the Light Sources at HZB
1100


 

D.B. Engel, R. Müller, P. Stange
                       HZB, Berlin, Germany

 


 

The advantages of visualization techniques and infrastructures with respect to configuration management, high availability and resource management have become obvious also for controls applications. Today a choice of powerful products are easy-to-use and support desirable functionality, performance, usability and maintainability at very matured levels. This paper presents the architecture of the virtual infrastructure and its relations to the hardware based counterpart as it has emerged for BESSY II and MLS controls within the past decade. Successful experiences as well as abandoned attempts and caveats on some intricate troubles are summarized.

 






Poster THPPC005 [0.286 MB]
            
 


 



THPPC006
REMBRANDT - REMote Beam instRumentation And Network Diagnosis Tool
1103


 

T. Hoffmann, H. Bräuning
                       GSI, Darmstadt, Germany

 


 

As with any other large accelerator complex in operation today, the beam instrumentation devices and associated data acquisition components for the coming FAIR accelerators will be distributed over a large area and partially installed in inaccessible radiation exposed areas. Besides operation of the device itself, like acquisition of data, it is mandatory to control also the supporting LAN based components like VME/μTCA crates, front-end computers (FEC), middle ware servers and more. Fortunately many COTS systems provide means for remote control and monitoring using a variety of standardized protocols like SNMP, IPMI or iAMT. REMBRANDT is a Java framework, which allows the authorized user to monitor and control remote systems while hiding the underlying protocols and connection information such as ip addresses, user-ids and passwords. Beneath voltage and current control, the main features are the remote power switching of the systems and the reverse telnet boot process observation of FECs. REMBRANDT is designed to be easily extensible with new protocols and features. The software concept, including the client-server part and the database integration, will be presented.

 






Poster THPPC006 [3.139 MB]
            
 


 



THPPC007
Planning, Inventory, Administration and Control of the Electronics Racks Complex for the European XFEL
 


 

E. Negodin
                       DESY, Hamburg, Germany

 


 

The European X-Ray Free Electron Laser is currently under construction and planned to be commissioned end of 2015. The facility is built deep under the ground – from 6 to 38 m. The total length of the facility tunnels is 3,4 km. The main LINAC alone is 2 km long. Since a major fraction of the control equipment will be installed in the tunnels, around 200 special cabinets or racks are necessary for that. These cabinets must to fulfill a number of strong criteria to ensure stable and reliable operation of the facility. For example, they have to provide radiation and EMI shielding for the electronic components and need to be climatized. At the same time the cabinets must be compact and need to have very good vibrostability. This paper describes the technologies, tools and methodologies used for the planning, inventory administration and control of electronics storage infrastructure of the European XFEL.

 


 



THPPC009
Design and Status of the SuperKEKB Accelerator Control Network System
1107


 

M. Iwasaki, K. Furukawa, H. Kaji, K. Mikawa, T.T. Nakamura, T. Obina, M. Satoh
                       KEK, Ibaraki, Japan
T. Aoyama, M. Fujita, S. Kusano, T. Nakamura, N. Tanaka, K. Yoshii
                       Mitsubishi Electric System & Service Co., Ltd, Tsukuba, Japan

 


 

SuperKEKB is the upgrade of the KEKB asymmetric energy electron-positron collider, for the next generation B-factory experiment in Japan. It is designed to achieve a luminosity of 8x1035/cm2/s, 40 times higher than the world highest luminosity record at KEKB. For SuperKEKB, we upgrade the accelerator control network system, which connects all devices in the accelerator. To construct the higher performance network system, we install the network switches based on the 10 gigabit Ethernet (10GbE) for the wider bandwidth data transfer. Additional optical fibers, for the reliable and redundant network and for the robust accelerator control timing system, are also installed. For the KEKB beamline construction and accelerator components maintenance, we install the new wireless network system based on the Leaky Coaxial (LCX) cable antennas into the 3 km circumference beamline tunnel. We reconfigure the network design to enhance the reliability and security of the network. In this paper, the design and current status of the SuperKEKB accelerator control network system will be presented.

 






Poster THPPC009 [1.143 MB]
            
 


 



THPPC012
The Equipment Database for the Control System of the NICA Accelerator Complex
1111


 

G.S. Sedykh
                       JINR/VBLHEP, Dubna, Moscow region, Russia
E.V. Gorbachev
                       JINR, Dubna, Moscow Region, Russia

 


 

The report describes the database of equipment for the control system of Nuclotron-based Ion Collider fAcility (NICA, JINR, Russia). The database will contain information about hardware, software, computers and network components of control system, their main settings and parameters, and the responsible persons. The equipment database should help to implement the Tango system as a control system of NICA accelerator complex. The report also describes a web service to display, search, and manage the database.

 






Poster THPPC012 [1.070 MB]
            
 


 



THPPC013
Configuration Management of the Control System
1114


 

V.H. Hardion, J.J. Jamroz, J. Lidón-Simon, M. Lindberg, A. Milán, A.G. Persson, D.P. Spruce
                       MAX-lab, Lund, Sweden

 


 

The control system of big research facilities like synchrotron involves a lot of work to keep hardware and software synchronised to each other to have a good coherence. Modern Control System middleware Infrastructures like Tango use a database to store all values necessary to communicate with the devices. Nevertheless it is necessary to configure the driver of a PowerSupply or a Motor controller before being able to communicate with any software of the control system. This is part of the configuration management which involves keeping track of thousands of equipments and their properties. In recent years, several DevOps tools like Chef, Puppet, Ansible or SpaceMaster have been developed by the OSS community. They are now mandatory for the configuration of thousands of servers to build clusters or cloud servers. Define a set of coherent components, enable Continuous Deployment in synergy with Continuous Integration, reproduce a control system for simulation, rebuild and track changes even in the hardware configuration are among the use cases. We will explain the strategy of MaxIV on this subject, regarding the configuration management.

 






Poster THPPC013 [4.620 MB]
            
 


 



THPPC014
CMX - A Generic Solution to Expose Monitoring Metrics in C and C++ Applications
1118


 

F. Ehm, Y. Fischer, G.M. Gorgogianni, S. Jensen, P. Jurcso
                       CERN, Geneva, Switzerland

 


 

CERN’s Accelerator Control System is built upon a large number of C, C++ and Java services that are required for daily operation of the accelerator complex. The knowledge of the internal state of these processes is essential for problem diagnostic as well as for constant monitoring for pre-failure recognition. The CMX library follows similar principles as JMX (Java Management Extensions) and provides similar monitoring capabilities for C and C++ applications. It allows registering and exposing runtime information as simple counters, floating point numbers or character data. This can be subsequently used by external diagnostics tools for checking thresholds, sending alerts or trending. CMX uses shared-memory to ensure non-blocking read/update actions, which is an important requirement for real-time processes. This paper introduces the topic of monitoring C/C++ applications and presents CMX as a building block to achieve this goal.

 






Poster THPPC014 [0.795 MB]
            
 


 



THPPC015
Managing Infrastructure in the ALICE Detector Control System
1122


 

M. Lechman, A. Augustinus, P.M. Bond, P.Ch. Chochula, A.N. Kurepin, O. Pinazza, P. Rosinský
                       CERN, Geneva, Switzerland
A.N. Kurepin
                       RAS/INR, Moscow, Russia
O. Pinazza
                       INFN-Bologna, Bologna, Italy

 


 

The main role of the ALICE Detector Control System (DCS) is to ensure safe and efficient operation of one of the large high energy physics experiments at CERN. The DCS design is based on the commercial SCADA software package WinCC Open Architecture. The system includes over 270 VME and power supply crates, 1200 network devices, over 1,000,000 monitored parameters as well as numerous pieces of front-end and readout electronics. This paper summarizes the computer infrastructure of the DCS as well as the hardware and software components that are used by WinCC OA for communication with electronics devices. The evolution of these components and experience gained from the first years of their production use are also described. We also present tools for the monitoring of the DCS infrastructure and supporting its administration together with plans for their improvement during the first long technical stop in LHC operation.

 






Poster THPPC015 [1.627 MB]
            
 


 



THPPC017
Control System Configuration Management at PSI Large Research Facilities
1125


 

R.A. Krempaska, A.G. Bertrand, H. Lutz
                       PSI, Villigen PSI, Switzerland

 


 

The control system of the PSI accelerator facilities and their beamlines consists mainly of the so called Input Output Controllers (IOCs) running EPICS. There are several flavors of EPICS IOCs at PSI running on different CPUs, different underlying operating systems and different EPICS versions. We have hundreds of IOCs which control the facilities at PSI. The goal of the Control system configuration management is to provide a set of tools to allow a consistent and uniform configuration for all IOCs. In this context the Oracle database contains all hardware-specific information including the CPU type, operating system or EPICS version. The installation tool connects to Oracle database. Depending on the IOC-type a set of files (or symbolic links) are created which connect to the required operating system, libraries or EPICS configuration files in the boot directory. In this way a transparent and user-friendly IOC installation is achieved. The control system export can check the IOC installation, boot information, as well as the status of loaded EPICS process variables by using Web applications.

 






Poster THPPC017 [0.405 MB]
            
 


 



THPPC018
Construction of the TPS Network System
1127


 

Y.-S. Cheng, Y.-T. Chang, J. Chen, K.T. Hsu, C.H. Huang, C.H. Kuo
                       NSRRC, Hsinchu, Taiwan

 


 

Project of 3 GeV Taiwan Photon Source (TPS) need a reliable, secure and high throughput network to ensure facility operate routinely and to provide better service for various purposes. The network system includes the office network, the beamline network and the accelerator control network for the TPS and the TLS (Taiwan Light Source) sites at NSRRC. Combining cyber security technologies such as firewall, NAT and VLAN will be adopted to define the tree network topology for isolating the accelerator control network, beamline network and subsystem components. Various network management tools are used for maintenance and troubleshooting. The TPS network system architecture, cabling topology, redundancy and maintainability are described in this report.

 






Poster THPPC018 [2.650 MB]
            
 


 



THPPC022
Securing Mobile Control System Devices: Development and Testing
1131


 

S.P. Banerian
                       University of Washington Medical Center, Seattle, USA

 


 

Recent advances in portable devices allow end users convenient wasy to access data over the network. Networked control systems have traditionally been kept on local or internal networks to prevent external threats and isolate traffic. The UMWC Clinical Neutron Therapy System has its control system on such an isolated network. Engineers have been updating the control system with EPICS, and have developed EDM-based interfaces for control and monitoring. This project describes a tablet-based monitoring device being developed to allow the engineers to monitor the system, while, e.g. moving from rack to rack, or room to room. EDM is being made available via the tablet. Methods to maintain security of the control system and tablet, while providing ease of access and meaningful data for management are being created. In parallel with the tablet development, security and penetration tests are also being produced.

 


 



THPPC023
Integration of Windows Binaries in the UNIX-based RHIC Control System Environment
1135


 

P. Kankiya, L.T. Hoff, J.P. Jamilkowski
                       BNL, Upton, Long Island, New York, USA

 


 

Funding: Work supported by Brookhaven Science Associates, LLC under Contract No. DE-AC02-98CH10886 with the U.S. Department of Energy.
Since its inception, the RHIC control system has been built-up on UNIX or LINUX and implemented primarily in C++. Sometimes equipment vendors include software packages developed in the Microsoft Windows operating system. This leads to a need to integrate these packaged executables into existing data logging, display, and alarms systems. This paper will describe an approach to incorporate such non-UNIX binaries seamlessly into the RHIC control system with minimal changes to the existing code base, allowing for compilation on standard LINUX workstations through the use of a virtual machine. The implementation resulted in the successful use of a windows dynamic linked library (DLL) to control equipment remotely while running a synoptic display interface on a LINUX machine.

 






Poster THPPC023 [1.391 MB]
            
 


 



THPPC024
Operating System Upgrades at RHIC
1138


 

S. Binello, A. Fernando, R.A. Katz, J.S. Laster, J. Piacentino
                       BNL, Upton, Long Island, New York, USA

 


 

Funding: Work supported by Brookhaven Science Associates, LLC under Contract No. DE-AC02-98CH10886 with the U.S. Department of Energy.
Upgrading hundreds of machines to the next major release of an Operating system (OS), while keeping the accelerator complex running, presents a considerable challenge. Even before addressing the challenges that an upgrade represents, there are critical questions that must be answered. Why should an upgrade be considered? (An upgrade is labor intensive and includes potential risks due to defective software.) When is it appropriate to make incremental upgrades to the OS? (Incremental upgrades can also be labor intensive and include similar risks.) When is the best time to perform an upgrade? (An upgrade can be disruptive.) Should all machines be upgraded to the same version at the same time? (At times this may not be possible, and there may not be a need to upgrade certain machines.) Should the compiler be upgraded at the same time? (A compiler upgrade can also introduce risks at the software application level.) This paper examines our answers to these questions, describes how upgrades to the Red Hat Linux OS are implemented by the Controls group at RHIC, and describes our experiences.

 






Poster THPPC024 [0.517 MB]
            
 


 



THPPC025
The Interaction between Safety Interlock and Motion Control Systems on the Dingo Radiography Instrument at the OPAL Research Reactor
1141


 

P.N. Barron, D. Bartlett
                       ANSTO, Menai, Australia

 


 

A neutron radiography/tomography instrument (Dingo) has recently been commissioned at the Bragg Institute, ANSTO. It utilizes thermal beam HB2 of the OPAL research reactor with flux up to 4.75 x 107 neutrons cm-2 s−1 at the sample. One component of the instrument is a 2.5 tonne selector wheel filled with a wax/steel shielding mixture which requires complex interaction between the safety interlock and motion control systems. It provides six apertures which are equipped with various neutron beam optics plus a solid ‘shutter’ section to block the beam. A standardized Galil based motion system precisely controls the movement of the wheel while a Pilz safety PLC specifies the desired position and handles other safety aspects of the instrument. A shielded absolute SSI encoder is employed to give high accuracy feedback on the position in conjunction with a number or limit switches. This paper details the challenges of creating a motion system with inherent safety, verifying the wheel meets specifications and the considerations in selecting components to withstand high radiation environments.

 






Poster THPPC025 [1.929 MB]
            
 


 



THPPC026
Diagnostic Controls of IFMIF-EVEDA Prototype Accelerator
1144


 

J.F. Denis, D. Bogard, J.-F. Gournay, Y. Lussignol, P. Mattei
                       CEA/DSM/IRFU, France

 


 

The Linear IFMIF prototype accelerator (LIPac) will accelerate a 9 MeV, 125 mA, CW deuteron beam in order to validate the technology that will be used for the future IFMIF accelerator (International Fusion Materials Irradiation Facility). This facility will be installed in Rokkasho (Japan) and Irfu-Saclay has developed the control system for several work packages like the injector and a set of the diagnostic subsystem. At Irfu-Saclay, beam tests were carried out on the injector with its diagnostics. Diagnostic devices have been developed to characterize the high beam power (more than 1MW) along the accelerator: an Emittance Meter Unit (EMU), Ionization Profile Monitors (IPM), Secondary Electron Emission Grids (SEM-grids), Beam Loss Monitors (BLoM and μLoss), and Current Transformers (CT). This control system relies on COTS and an EPICS software platform. A specific isolated fast acquisition subsystem running at high sampling rate (about 1 MS/s), triggered by the Machine Protection System (MPS), is dedicated to the analysis of post-mortem data produced by the BLoMs and current transformer signals.

 






Poster THPPC026 [0.581 MB]
            
 


 



THPPC027
A New EPICS Device Support for S7 PLCs
1147


 

S. Marsching
                       Aquenos GmbH, Baden-Baden, Germany

 


 

S7 series programmable logic controllers (PLCs) are commonly used in accelerator environments. A new EPICS device support for S7 PLCs that is based on libnodave has been developed. This device support allows for a simple integration of S7 PLCs into EPICS environments. Developers can simply create an EPICS record referring to a memory address in the PLC and the device support takes care of automatically connecting to the PLC and transferring the value. This contribution presents the concept behind the s7nodave device support and shows how simple it is to create an EPICS IOC that communicates with an S7 PLC.

 






Poster THPPC027 [3.037 MB]
            
 


 



THPPC032
Embedded EPICS Controller for KEK Linac Screen Monitor System
1150


 

M. Satoh, K. Furukawa, K. Mikawa, T. Suwada
                       KEK, Ibaraki, Japan
T. Kudou, S. Kusano
                       Mitsubishi Electric System & Service Co., Ltd, Tsukuba, Japan

 


 

The screen monitor (SC) of the KEK linac is a beam diagnostics device to measure transverse beam profiles with a fluorescent screen. The screen material is made of 99.5% Al2O3 and 0.5% CrO3, with which a sufficient amount of fluorescent light can be obtained when electron and positron beams impinge on the screen. the fluorescent light with a camera embedded with a charge-coupled device (CCD), the transverse spatial profiles of the beam can be easily measured. Compact SCs were previously developed in 1995 for the KEKB project. About 110 compact SCs were installed into the beam line at that time. VME-based computer control system was also developed in order to perform fast and stable control of the SC system. However, the previous system becomes obsolete and hard to maintain. Recently, a new screen monitor control system for the KEK electron/positron injector linac has been developed and fully installed. The new system is an embedded EPICS IOC based on the Linux/PLC. In this paper, we present the new screen monitor control system in detail.

 


 



THPPC033
Upgrade of BPM DAQ System for SuperKEKB Injector Linac
1153


 

M. Satoh, K. Furukawa, F. Miyahara, T. Suwada
                       KEK, Ibaraki, Japan
T. Kudou, S. Kusano
                       Mitsubishi Electric System & Service Co., Ltd, Tsukuba, Japan

 


 

The non-destructive beam position monitor (BPM) is indispensable diagnostic tool for the stable beam operation. In the KEK Linac, approximately nineteen BPMs with the strip-line type electrodes are used for the beam orbit measurement and feedback. In addition, some of them are also used for the beam energy feedback loops. The current data acquisition (DAQ) system consists of the fast digital oscilloscopes. A signal from each electrode is analyzed with a predetermined response function up to 50 Hz. In the present DAQ system, the measurement precision of beam position is limited to around 0.5 mm because of ADC resolution. Towards SuperKEKB project, we have a plan to upgrade the BPM DAQ system since the Linac should provide the smaller emittance beam in comparison with previous KEKB Linac. We will report the system description of the new DAQ system and the results of performance test in detail.

 


 



THPPC034
A Novel Analysis of Time Evolving Betatron Tune
1157


 

S. Yamada
                       J-PARC, KEK & JAEA, Ibaraki-ken, Japan

 


 

J-PARC Main Ring (MR) is a high-intensity proton synchrotron and since 2009 delivering beam to the T2K neutrino experiment and hadron experiments. It is essential to measure time variation of betatron tune accurately throughout from beam injection at 3 GeV to extraction at 30 GeV. The tune measurement system of J-PARC MR consist of a stripline-kicker, beam position monitors, and a waveform digitizer. Betatron tune appears as sidebands of harmonics of revolution frequency in the turn-by-turn beam position spectrum. Excellent accuracy of measurement and high immunity against noise were achieved by exploiting a wide-band spectrum covering multiple harmonics.

 






Poster THPPC034 [0.707 MB]
            
 


 



THPPC035
RF Signal Switching System for Electron Beam Position Monitor Utilizing ARM Microcontroller
1160


 

T. Toyoda
                       IMS, Okazaki, Japan
K. Hayashi, M. Katoh
                       UVSOR, Okazaki, Japan

 


 

ARM microcontrollers have high processing speed and low power consumption because they work efficiently with less memory by their own instruction set. Therefore, ARM microcontrollers are used not only in portable devices but also other commercial electronic devices. In recent years, free development environments and low-cost development kits are provided by many companies. The “mbed” provided by NXP is one of them. The “mbed” provides an environment where we can develop a product easily even if we are not familiar with electronics or microcontrollers. We can supply electric power and can transfer the program that we have developed by connecting to a PC via USB. We can use USB and LAN that, in general, require high level of expertise. The “mbed” has also a function as a HTTP server. By combining with JavaScript library, we can control multiple I/O ports at the same time through LAN. In the presentation, we will report the results that we applied the “mbed” to develop an RF signal switching system for a turn-by-turn beam position monitor (BPM) at a synchrotron light source, UVSOR-III.

 






Poster THPPC035 [2.228 MB]
            
 


 



THPPC036
EPICS Control System for the FFAG Complex at KURRI
1164


 

Y. Kuriyama, Y. Ishi, J.-B. Lagrange, Y. Mori, T. Uesugi
                       Kyoto University, Research Reactor Institute, Osaka, Japan

 


 

In Kyoto University Research Reactor Institute (KURRI), a fixed-field alternating gradient (FFAG) proton accelerator complex, which is consists of the three FFAG rings, had been constructed to make an experimental study of accelerator driven sub-critical reactor (ADSR) system with spallation neutrons produced by the accelerator. The world first ADSR experiment was carried out in March of 2009. In order to increase the beam intensity of the proton FFAG accelerator, a new injection system with H− linac has been constructed in 2011. To deal with these developments, a control system of these accelerators should be easy to develop and maintain. The first control system was based on LabVIEW and the development had been started seven years ago. Thus it is necessary to update the components of the control system, for example operating system of the computer. And the first control system had some minor stability problems and it was difficult for non-expert of LabVIEW to modify control program. Therefore the EPICS toolkit has been started to use as the accelerator control system in 2009. The present control system of the KURRI FFAG complex is explained.

 






Poster THPPC036 [3.868 MB]
            
 


 



THPPC037
EPICS-based Control System for New Skew Quadrupole Magnets in J-PARC MR
1168


 

K.C. Sato
                       JAEA/J-PARC, Tokai-Mura, Naka-Gun, Ibaraki-Ken, Japan
S. Igarashi
                       KEK, Ibaraki, Japan
N. Kamikubota, J. Takano, S. Yamada, N. Yamamoto
                       J-PARC, KEK & JAEA, Ibaraki-ken, Japan
S.Y. Yoshida
                       Kanto Information Service (KIS), Accelerator Group, Ibaraki, Japan

 


 

In J-PARC Main Ring (MR), a control system for new skew quadrupole magnets has been constructed. This system is based on EPICS　(Experimental Physics and Industrial Control System). The system comprises a YOKOGAWA F3RP61-2L (a PLC controller running Linux), a function generator (Tektronix AFG3000), and a commercial bipolar-DC Amplifier. The function generator is controlled using VXI-11 protocol over Ethernet, and the amplifier is connected to PLC I/O modules with hardwire. Both devices are controlled by the F3RP61-2L. The Function Generator produces a ramp waveform at each machine cycle of 2.48 seconds. The DC amplifire drives the magnet. The control system for skew quadrupole magnets was developed in 2012, and has been in opeation since January, 2013.

 






Poster THPPC037 [1.027 MB]
            
 


 



THPPC043
Implement an Interface for Control System to Interact with Oracle Database at SSC-LINAC
1171


 

S. An, K. Gu, X.J. Liu, J.Q. Wu, W. Zhang
                       IMP, Lanzhou, People's Republic of China

 


 

SSC-LINAC control system is based on EPICS architecture. The control system includes ion sources, vacuum, digital power supplies, etc. In these subsystems, some of those need to interactive with Oracle database, such as power supplies control subsystem, who need to get some parameters while power supplies is running and also need to store some data with Oracle. So we design and implementation an interface for EPICS IOC to interactive with Oracle database. The interface is a soft IOC which is also bases on EPICS architecture, so others IOC and OPI can use the soft IOC interactive with Oracle via Channel Access protocol.

 


 



THPPC045
The SSC-Linac Control System
1173


 

W. Zhang, S. An, S.Z. Gou, K. Gu, X.J. Liu, M. Yue
                       IMP, Lanzhou, People's Republic of China

 


 

This article gives a brief description of the SSC-Linac control system for Heavy Ion Research Facility of Lanzhou(HIRFL). It describes in detail mainly of the overall system architecture, hardware and software. The overall system architecture is the distributed control system. We have adopted the the EPICS system as the system integration tools to develop the control system of the SSC-Linac. We use the NI PXIe chassis and PXIe bus master as a front-end control system hardware. Device controllers for each subsystem were composed of the commercial products or components designed by subsystems. The operating system in OPI and IOC of the SSC-Linac control system will use Linux.

 


 



THPPC046
The Control System of the Water-cooled DCM in SSRF
 


 

W.H. Jia, P. Liu
                       SINAP, Shanghai, People's Republic of China
Q.R. Mi, Z.H. Zhang, L.F. Zheng
                       SSRF, Shanghai, People's Republic of China

 


 

This paper introduces the principle of the Water-cooled Double Crystal Monochromator (DCM) in SSRF (Shanghai Synchrotron Radiation Facility). There are two stepper motors, three DC servo motors and two Piezos. One VME/IOC is used to control the stepper motors, and one PC/IOC is used to control others. The software is developed with EPICS. The functions of the control system include moving single motor, fixing the height of two crystals while scanning the Bragg angle, saving and restoring the physical parameters. This paper illustrates how to use motor records, transform records and the EPICS database linking mechanism to form soft loops to realize the energy regulation and the coordination motion. The trial results have revealed the stability and reliability of the system.

 


 



THPPC048
Upgrade of the Nuclotron Injection Control and Diagnostics System
1176


 

E.V. Gorbachev, A. Kirichenko, S. Romanov, T.V. Rukoyatkina, V.V. Tarasov, V. Volkov
                       JINR, Dubna, Moscow Region, Russia
G.S. Sedykh
                       JINR/VBLHEP, Dubna, Moscow region, Russia

 


 

Nuclotron is a 6 GeV/n superconducting synchrotron operating at JINR, Dubna since 1993. It will be the core of the future accelerating complex NICA which is under development now. The report presents details of the Nuclotron injection hardware and software upgrade to operate under future NICA control system based on Tango. The designed system provides control and synchronization of electrostatic and magnetic inflector devices and diagnostics of the ion beam injected from 20MeV linear accelerator to Nuclotron. The hardware consists of few controllable power supplies, various National Instruments acquisition devices, custom-designed controller module. The software consists of few C++ Tango device servers and NI LabView client applications.

 






Poster THPPC048 [1.472 MB]
            
 


 



THPPC049
The  Power Supply System for Electron Beam Orbit Correctors and Focusing Lenses of Kurchatov Synchrotron Radiation Source
1180


 

N.I. Moseiko, Y.V. Efimov, V. Korchuganov, V.V. Kordhikov, S.G. Pesterev, A.G. Valentinov
                       NRC, Moscow, Russia
I.V. Akimenkov, A.F. Shamarin
                       Marathon Ltd., Moscow, Russia
A.S. Chepurnov, A.S. Nikolaev
                       MSU SINP, Moscow, Russia
I.V. Gribov
                       MSU, Moscow, Russia
Y.V. Krylov, L.A. Moseiko
                       RRC, Moscow, Russia

 


 

The modernization project of the low-current power supply system of Kurchatov Synchrotron Radiation Source has been designed and is under implementation now. It includes transition to the new power suppliers to feed electron beam orbit correctors and focusing lenses. Multi-level control system, based on CAN/CANopen fieldbus, has been developed for specific accelerator applications, which allows startup and continuous run of hundreds of power supplies together with the other subsystems of the accelerator. The power sources data and status are collected into the archive with the Citect SCADA 7.2 Server SCADA Historian Server. The following operational parameters of the system are expected: current control resolution - 0.05% of IMAX; current stability - 5*10-4 ; 10 hours current variance - 100 ppm of IMAX ; temperature drift - 40ppm/K of IMAX.

 


 



THPPC050
Upgrade  System of Vacuum Monitoring of Synchrotron Radiation Sources of National Research Centre Kurchatov Institute
1183


 

N.I. Moseiko, V. Dombrovsky, Y.V. Efimov, V. Korchuganov, Y.V. Krylov, D.G. Odintsov
                       NRC, Moscow, Russia
L.A. Moseiko, A.V. Shirokov
                       RRC, Moscow, Russia
B.I. Semenov
                       RRC KI, Moscow, Russia

 


 

Modernization project of the vacuum system of the synchrotron radiation source at the National Research Centre Kurchatov Institute (NRC KI) has been designed and implemented. It includes transition to the new high-voltage power sources for NMD and PVIG–0.25/630 pumps. The system is controlled via CAN-bus, and the vacuum is controlled by measuring pump currents in a range of 0.0001–10 mA. Status visualization, data collection and data storage is implemented on Sitect SCADA 7.2 Server and SCADA Historian Server. The system ensures a vacuum of 10–7 Pa. The efficiency and reliability of the vacuum system is increased by this work, making it possible to improve the main parameters of the SR source.

 


 



THPPC051
First Operation of New Electron Beam Orbit Measurement System at SIBERIA-2
1186


 

Y.A. Fomin, V. Korchuganov, N.I. Moseiko, S.I. Tomin, A.G. Valentinov
                       NRC, Moscow, Russia
R. Hrovatin, P. Leban
                       I-Tech, Solkan, Slovenia

 


 

The paper focuses on the results of commission and usage of the electron beam orbit measurement system at synchrotron radiation source SIBERIA-2 realized at present time at Kurchatov Institute. The main purpose of new orbit measurement system creation is an improvement of the electron beam diagnostic system at the storage ring. This system provides continuous measurements of the electron beam closed orbit during storing, ramping and operation for users. Besides, with the help of the system it is possible to carry out turn-by-turn measurements of the electron beam trajectory during injection process. After installation of new orbit measurement system we obtained a very good instrument to study electron beam dynamics into the main storage ring in detail. The paper describes the new orbit measurement system, its technical performance, the results of commission and our experience.

 


 



THPPC053
NSLS-II Booster Ramp Handling
1189


 

P.B. Cheblakov, A.A. Derbenev, R.A. Kadyrov, S.E. Karnaev, S.S. Serednyakov, E.A. Simonov
                       BINP SB RAS, Novosibirsk, Russia
T.V. Shaftan, Y. Tian
                       BNL, Upton, Long Island, New York, USA

 


 

The NSLS-II booster is a full-energy synchrotron with the range from 200 MeV up to 3 GeV. The ramping cycle is 1 second. A set of electronics developed in BNL fro the NSLS-II project was modified for the booster Power Supplies (PSs) control. The set includes Power Supply Interface which is located close to a power supply and a Power Supply Controller (PSC) which is connected to EPICS IOC running in a front-end computer via 100 Mbit Ethernet. A table of 10k setpoints uploaded to the memory of PSC defines a behavior of a PS in the machine cycle. A special software is implemented in IOC to provide a smooth shape of the ramping waveform in the case of the waveform change. A Ramp Manager (RM) high level application is developed in python to provide an easy change, compare, copy the ramping waveforms, and upload them to process variables. The RM provides check of a waveform derivative, manual adjusting of the waveform in graph and text format, and includes all specific features of the booster PSs control. This paper describes software for the booster ramp handling.

 






Poster THPPC053 [0.423 MB]
            
 


 



THPPC056
Design and Implementation of Linux Drivers for National Instruments IEEE 1588 Timing and General I/O Cards
1193


 

K.A. Meyer, K. Vodopivec
                       Cosylab, Ljubljana, Slovenia
R. Sabjan, K. Žagar
                       COBIK, Solkan, Slovenia

 


 

Cosylab is developing GPL Linux device drivers to support several National Instruments (NI) devices. In particular, drivers have already been developed for the NI PCI-1588, PXI-6682 (IEEE1588/PTP) devices and the NI PXI-6259 I/O device. These drivers are being used in the development of the latest plasma fusion research reactor, ITER, being built at the Cadarache facility in France. In this paper we discuss design and implementation issues, such as driver API design (device file per device versus device file per functional unit), PCI device enumeration, handling reset, etc. We also present various use-cases demonstrating the capabilities and real-world applications of these drivers.

 






Poster THPPC056 [0.482 MB]
            
 


 



THPPC057
Validation of the Data Consolidation in Layout Database for the LHC Tunnel Cryogenics Controls Package
1197


 

A. Tovar, C. Balle, E.B. Blanco Vinuela, C. Fluder, E. Fortescue-Beck, P. Gomes, V. Inglese, M. Pezzetti
                       CERN, Geneva, Switzerland

 


 

The control system of the Large Hadron Collider cryogenics manages over 34,000 instrumentation channels which are essential for populating the software of the PLCs (Programmable Logic Controller) and SCADA (Supervisory Control and Data Acquisition) responsible for maintaining the LHC at the appropriate operating conditions. The control system specification's are generated by the CERN UNICOS (Unified Industrial Control System) framework using a set of information of database views extracted from the LHC layout database. The LHC layout database is part of the CERN database managing centralized and integrated data, documenting the whole CERN infrastructures (Accelerator complex) by modeling their topographical organization (“layouts”), and defining their components (functional positions) and the relationships between them. This paper describes the methodology of the data validation process, including the development of different software tools used to update the database from original values to manually adjusted values after three years of machine operation, as well as the update of the data to accommodate the upgrade of the UNICOS Continuous Process Control package(CPC).

 


 



THPPC058
LSA - the High Level Application Software of the LHC - and Its Performance During the First Three Years of Operation
1201


 

D. Jacquet, R. Gorbonosov, G. Kruk
                       CERN, Geneva, Switzerland

 


 

The LSA (LHC software architecture) project was started in 2001 with the aim of developing the high level core software for the control of the LHC accelerator. It has now been deployed widely across the CERN accelerator complex and has been largely successful in meeting its initial aims. The main functionality and architecture of the system is recalled and its use in the commissioning and exploitation of the LHC is elucidated.

 






Poster THPPC058 [1.291 MB]
            
 


 



THPPC060
A PXI-Based Low Level Control for the Fast Pulsed Magnets in the CERN PS Complex
1205


 

J. Schipper, E. Carlier, T. Fowler, T. Gharsa
                       CERN, Geneva, Switzerland

 


 

Fast pulsed magnet (kicker) systems are used for beam injection and extraction in the CERN PS complex. A novel approach, based on off-the-shelf PXI components, has been used for the consolidation of the low level part of their control system. Typical functionalities required like interlocking, equipment state control, thyratron drift stabilisation and protection, short circuit detection in magnets and transmission lines, pulsed signal acquisition and fine timing have been successfully integrated within a PXI controller. The controller comprises a National Instruments NI PXI-810x RT real time processor, a multifunctional RIO module including a Virtex-5 LX30 FPGA, a 1 GS/s digitiser and a digital delay module with 1 ns resolution. National Instruments LabVIEW development tools have been used to develop the embedded real time software as well as FPGA configuration and expert application programs. The integration within the CERN controls environment is performed using the Rapid Application Development Environment (RADE) software tools, developed at CERN.

 






Poster THPPC060 [0.887 MB]
            
 


 



THPPC061
SwissFEL Magnet Test Setup and Its Controls at PSI
1209


 

P. Chevtsov, W. Hugentobler, D. Vermeulen, V. Vranković
                       PSI, Villigen PSI, Switzerland

 


 

High brightness electron bunches will be guided in the future Free Electron Laser (SwissFEL) at Paul Scherrer Institute (PSI) with the use of several hundred magnets. The SwissFEL machine imposes very strict requirements not only to the field quality but also to mechanical and magnetic alignments of these magnets. To ensure that the magnet specifications are met and to develop reliable procedures for aligning magnets in the SwissFEL and correcting their field errors during machine operations, the PSI magnet test system was upgraded. The upgraded system is a high precision measurement setup based on Hall probe, rotating coil, vibrating wire and moving wire techniques. It is fully automated and integrated in the PSI controls. The paper describes the main controls components of the new magnet test setup and their performance.

 






Poster THPPC061 [0.855 MB]
            
 


 



THPPC062
Control Environment of Power Supply for TPS Booster Synchrotron
1213


 

P.C. Chiu, J. Chen, Y.-S. Cheng, K.T. Hsu, K.H. Hu, C.H. Kuo, C.Y. Wu
                       NSRRC, Hsinchu, Taiwan

 


 

The TPS is a latest generation of high brightness synchrotron light source and scheduled to be commissioning in 2014. Its booster is designed to ramp electron beams from 150 MeV to 3 GeV in 3 Hz. The control environments based on EPICS framework are gradually developed and built. This report summarizes the efforts on control environment of BPM and power supply for TPS booster synchrotron.

 


 



THPPC063
Status of the TPS Insertion Devices Controls
1216


 

C.Y. Wu, J. Chen, Y.-S. Cheng, K.T. Hsu, C.Y. Liao
                       NSRRC, Hsinchu, Taiwan

 


 

The Insertion devices (ID) for Taiwan Photon Source are under construction. There are eight insertion devices are under construction. These devices include in-vacuum undulators with or without taper, elliptical polarized undulators. Control framework for all IDs was developed. Hardware and software components are use common as possible. Motion control functionality for gap and phase adjustment supports servo motors, stepper motors, and absolute encoders. The control system for all IDs is based on the EPICS architecture. Trimming power supply for corrector magnets, phase shifter control functionality are also address. Miscellaneous controls include ion pumpers and BA gauges for vacuum system, temperature sensors for ID environmental monitoring and baking, limit switches, emergency button. User interface for ID beamline users are included to help them to do experiment, such as ID gap control and on-the fly experimental. The progress of IDs control system will be summary in the report.

 






Poster THPPC063 [2.878 MB]
            
 


 



THPPC064
The HiSPARC Control System
1220


 

R.G.K. Hart, D.B.R.A. Fokkema, A.P.L.S. de Laat, B. van Eijk
                       NIKHEF, Amsterdam, The Netherlands

 


 

Funding: Nikhef
The purpose of the HiSPARC project is twofold. First the physics goal: detection of high-energy cosmic rays. Secondly, offer an educational program in which high school students participate by building their detection station and analysing their data. Around 70 high schools, spread over the Netherlands, are participating. Data are centrally stored at Nikhef in Amsterdam. The detectors, located on the roof of the high-schools, are connected by means of a USB interface to a Windows PC, which itself is connected to the high school's network and further on to the public internet. Each station is equipped with GPS providing exact location and accurate timing. This paper covers the setup, building and usage of the station software. It contains a LabVIEW run-time engine, services for remote control and monitoring, a series of Python scripts and a local buffer. An important task of the station software is to control the dataflow, event building and submission to the central database. Furthermore, several global aspects are described, like the source repository, the station software installer and organization.
Windows, USB, FTDI, LabVIEW, VPN, VNC, Python, Nagios, NSIS, Django

 


 



THPPC065
Software System for Monitoring and Control at the Solenoid Test Facility
1224


 

J.M. Nogiec, R.H. Carcagno, S. Kotelnikov, K. Trombly-Freytag
                       Fermilab, Batavia, USA

 


 

Funding: This work was supported by the U.S. Department of Energy.
The architecture and implementation aspects of the control and monitoring system developed for Fermilab's new Solenoid Test Facility will be presented. At the heart of the system lies a highly configurable scan subsystem targeted at precise measurements of low temperatures with uniformly incorporated control elements. A multi-format archival system allows for the use of flat files, XML, and a relational database for storing data, and a Web-based application provides access to historical trends. The DAQ and computing platform includes COTS elements. The layered architecture separates the system into Windows operator stations, the real-time operating system-based DAQ and controls, and the FPGA-based time-critical and safety elements. The use of the EPICS CA protocol with LabVIEW opens the system to many available EPICS utilities .

 






Poster THPPC065 [2.059 MB]
            
 


 



THPPC066
ACSys Camera Implementation Utilizing an Erlang Framework to C++ Interface
1228


 

C.I. Briegel, J.S. Diamond
                       Fermilab, Batavia, USA

 


 

Multiple cameras are integrated into the Accelerator Control System utilizing an Erlang framework. Message passing is implemented to provide access into C++ methods. The framework runs in a multi-core processor running Scientific Linux. The system provides full access to any 3 cameras out of approximately 20 cameras collecting 5 Hz frames. JPEG images in memory or as files providing for visual information. PNG files are provided in memory or as files for analysis. Histograms over the X & Y coordinates are filtered and analyzed. This implementation is described and the framework is evaluated.

 


 



THPPC067
New EPICS Drivers for Keck TCS Upgrade
1231


 

J.M. Johnson
                       W.M. Keck Observatory, Kamuela, USA

 


 

Keck Observatory is in the midst of a major telescope control system upgrade. This involves migrating from a VME based EPICS control system originally deployed on Motorola FRC40s VxWorks 5.1 and EPICS R3.13.0Beta12 to a distributed 64-bit X86 Linux servers running RHEL 2.6.33.x and EPICS R3.14.12.x. This upgrade brings a lot of new hardware to the project which includes Ethernet/IP connected PLCs, the ethernet connected DeltaTau Brick controllers, National Instruments MXI RIO, Heidenhain Encoders (and the Heidenhain ethernet connected Encoder Interface Box in particular), Symmetricom PCI based BC635 timing and synchronization cards, and serial line extenders and protocols. Keck has chosen to implement all new drivers using the ASYN framework. This paper will describe the various drivers used in the upgrade including those from the community and those developed by Keck which include BC635, MXI and Heidenhain EIB. It will also discuss the use of the BC635 as a local NTP reference clock and a service for the EPICS general time.

 


 



THPPC071
Machine Protection Diagnostics on a Rule Based System
1235


 

M. Walla, T. Lensch, Y. Nechaev, W. Schütte, V. Soloviev, M. Werner
                       DESY, Hamburg, Germany

 


 

Since commissioning the high-brilliance, 3rd-generation light source, PETRA-3 in 2009 the accelerator operation has become routine. To guard the machine against damage a Machine Protection System (MPS) was built [*]. Alarms and beam information are collected by the MPS and can be used to analyse beam losses and dumps. The MPS triggers a visual diagnostic software, which is used to analyse the hardware dump cause. The diagnostic software is based on a Domain Specific Language (DSL) architecture. The MPS diagnostic application is designed with a server-client architecture and written in Java. The communication protocol is based on TINE. We characterise the data flow of the alarms and the DSL specification and describe the composition from the delivered structure to a single, human understandable message.
* T. Lensch, M. Werner, "Commissioning Results and Improvements of the Machine Protection System for PETRA III", BIW10, New Mexico, US, 2010

 






Poster THPPC071 [0.838 MB]
            
 


 



THPPC072
Superconducting Cavity Quench Detection and Prevention for the European XFEL
1239


 

J. Branlard, V. Ayvazyan, O. Hensler, H. Schlarb, Ch. Schmidt
                       DESY, Hamburg, Germany
W. Cichalewski
                       TUL-DMCS, Łódź, Poland

 


 

Due to its large scale, the European X-ray Free Electron Laser accelerator (XFEL) requires a high level of automation for commissioning and operation. Each of the 800 superconducting RF cavities simultaneously running during normal operation can occasionally quench, potentially tripping the cryogenic system and resulting into machine down-time. A fast and reliable quench detection system is then a necessity to rapidly detect individual cavity quenches and take immediate action, thus avoiding interruption of machine operation. In this paper, the mechanisms implemented in the low level RF system (LLRF) to prevent quenches and the algorithms developed to detect if a cavity quenches anyways are explained. In particular, the different types of cavity quenches and the techniques developed to identify them are shown. Experimental results acquired during the testing of XFEL cryomodules prototypes at DESY are presented, demonstrating the performance and efficiency of this machine operation and cavity protection tool.

 


 



THPPC076
Re-Engineering Control Systems using Automatic Generation Tools and Process Simulation: the LHC Water Cooling Case
1242


 

W. Booth, E.B. Blanco Vinuela, B. Bradu, L. Gomez Palacin, M. Quilichini, D. Willeman
                       CERN, Geneva, Switzerland

 


 

This paper presents the approach used at CERN (European Organization for Nuclear Research) for the re-engineering of the control systems for the water cooling systems of the LHC (Large Hadron Collider). Due to a very short, and therefore restrictive, intervention time for these control systems, each PLC had to be completely commissioned in only two weeks. To achieve this challenge, automatic generation tools were used with the CERN control framework UNICOS (Unified Industrial Control System) to produce the PLC code. Moreover, process dynamic models using the simulation software EcosimPro were developed to carry out the ‘virtual’ commissioning of the new control systems for the most critical processes thus minimizing the real commissioning time on site. The re-engineering concerns around 20 PLCs managing 11000 Inputs/Outputs all around the LHC. These cooling systems are composed of cooling towers, chilled water production units and water distribution systems.

 






Poster THPPC076 [4.046 MB]
            
 


 



THPPC077
A Fuzzy-Oriented Solution for Automatic Distribution of Limited Resources According to Priority Lists
1246


 

M. Pezzetti, V. Inglese, A. Tovar
                       CERN, Geneva, Switzerland
M.M. Almeida
                       UFMG, Belo Horizonte, Brazil
H. Coppier
                       ESIEE, Amiens, France

 


 

This paper proposes a solution for resources allocation when limited resources supply several clients in parallel. The lack of a suitable limitation mechanism in the supply system can lead to the depletion of the resources if the total demand exceeds the availability. To avoid this situation, an algorithm for priority handling which relies on the Fuzzy Systems Theory is used. The Fuzzy approach, as a problem-solving technique, is robust with respect to model and parameter uncertainties and is well-adapted to systems whose mathematical formulation is difficult or impossible to obtain. The aim of the algorithm is to grant a fair allocation if the resources availability is sufficient for all the clients, or, in case of excess of demand, on the basis of priority lists, to assure enough resources only to the high priority clients in order to allow the completion of the high priority tasks. Besides the general algorithm, this paper describes the Fuzzy approach applied to a cryogenic test facility at CERN. Simulation tools are employed to validate the proposed algorithm and to characterize its performance.

 


 



THPPC078
The AccTesting Framework: An Extensible Framework for Accelerator Commissioning and Systematic Testing
1250


 

A.A. Gorzawski, D. Anderson, M. Audrain, K. Fuchsberger, J.C. Garnier, A. Moscatelli, K. Stamos, J. Suchowski, P.C. Turcu, M. Zerlauth
                       CERN, Geneva, Switzerland

 


 

The Large Hadron Collider (LHC) at CERN requires many systems to work in close interplay to allow reliable operation and at the same time ensure the correct functioning of the protection systems required when operating with large energies stored in magnet system and particle beams. The systems for magnet powering and beam operation are qualified during dedicated commissioning periods and retested after corrective or regular maintenance. Based on the experience acquired with the initial commissioning campaigns of the LHC magnet powering system, a framework was developed to orchestrate the thousands of tests for electrical circuits and other systems of the LHC. The framework was carefully designed to be extendable. Currently, work is on-going to prepare and extend the framework for the re-commissioning of the machine protection systems at the end of 2014 after the LHC Long Shutdown. This paper describes concept, current functionality and vision of this framework to cope with the required dependability of test execution and analysis.

 






Poster THPPC078 [5.908 MB]
            
 


 



THPPC079
Using a Java Embedded DSL for LHC Test Analysis
1254


 

M. Audrain, D. Anderson, K. Fuchsberger, J.C. Garnier, R. Gorbonosov, A.A. Gorzawski, A. Jalal, K. Stamos, J. Suchowski, P.C. Turcu, M. Zerlauth
                       CERN, Geneva, Switzerland

 


 

The Large Hadron Collider (LHC) at CERN requires many systems to work in close cooperation. All systems for magnet powering and beam operation are qualified during dedicated commissioning periods and retested after corrective or regular maintenance. Already for the first commissioning of the magnet powering system in 2006, the execution of such tests was automated to a high degree to facilitate the execution and tracking of the more than 10.000 required test steps. Most of the time during today’s commissioning campaigns is spent in analysing test results, to a large extend still done manually. A project was launched to automate the analysis of such tests as much as possible. A dedicated Java embedded Domain Specific Language (eDSL) was created, which allows system experts to describe desired analysis steps in a simple way. The execution of these checks results in simple decisions on the success of the tests and provides plots for experts to quickly identify the source of problems exposed by the tests. This paper explains the concepts and vision of the first version of the eDSL.

 






Poster THPPC079 [1.480 MB]
            
 


 



THPPC080
Testing and Verification of PLC Code for Process Control
1258


 

E.B. Blanco Vinuela, B. Fernández Adiego, A. Merezhin
                       CERN, Geneva, Switzerland

 


 

Functional testing of PLC programs has been historically a challenging task for control systems engineers. This paper presents the analysis of different mechanisms for testing PLCs programs developed within the UNICOS (Unified Industrial COntrol System) framework. The framework holds a library of objects, which are represented as Function Blocks in the PLC application. When a new object is added to the library or a correction of an existing one is needed, exhaustive validation of the PLC code is needed. Testing and formal verification are two distinct approaches selected for eliminating failures of UNICOS objects. Testing is usually done manually or automatically by developing scripts at the supervision layer using the real control infrastructure. Formal verification proofs the correctness of the system by checking weather a formal model of the system satisfies some properties or requirements. The NuSMV model checker has been chosen to perform this task. The advantages and limitations of both approaches are presented and illustrated with a case study, validating a specific UNICOS object.

 






Poster THPPC080 [3.659 MB]
            
 


 



THPPC081
High-level Functions for Modern Control Systems: A Practical Example
1262


 

F. Varela, W.J. Fabian, P. Golonka, M. Gonzalez-Berges, L.B. Petrova
                       CERN, Geneva, Switzerland

 


 

Modern control systems make wide usage of different IT technologies and complex computational techniques to render the data gathered accessible from different locations and devices, as well as to understand and even predict the behavior of the systems under supervision. The Industrial Controls Engineering (ICE) Group of the EN Department develops and maintains more than 150 vital controls applications for a number of strategic sectors at CERN like the accelerator, the experiments and the central infrastructure systems. All these applications are supervised by MOON, a very successful central monitoring and configuration tool developed by the group that has been in operation 24/7 since 2011. The basic functionality of MOON was presented in previous editions of these series of conferences. In this contribution we focus on the high-level functionality recently added to the tool to grant access to multiple users through the web and mobile devices to the data gathered, as well as a first attempt to data analytics with the goal of identifying useful information to support developers during the optimization of their systems and help in the daily operations of the systems.

 


 



THPPC082
Monitoring of the National Ignition Facility Integrated Computer Control System
1266


 

J.M. Fisher, M. Arrowsmith, E.A. Stout
                       LLNL, Livermore, California, USA

 


 

Funding: This work performed under the auspices of the U.S. Department of Energy by Lawrence Livermore National Laboratory under Contract DE-AC52-07NA27344. #LLNL-ABS-632812
The Integrated Computer Control System (ICCS), used by the National Ignition Facility (NIF) provides comprehensive status and control capabilities for operating approximately 100,000 devices through 2,600 processes located on 1,800 servers, front end processors and embedded controllers. Understanding the behaviors of complex, large scale, operational control software, and improving system reliability and availability, is a critical maintenance activity. In this paper we describe the ICCS diagnostic framework, with tunable detail levels and automatic rollovers, and its use in analyzing system behavior. ICCS recently added Splunk as a tool for improved archiving and analysis of these log files (about 20GB, or 35 million logs, per day). Splunk now continuously captures all ICCS log files for both real-time examination and exploration of trends. Its powerful search query language and user interface provides allows interactive exploration of log data to visualize specific indicators of system performance, assists in problems analysis, and provides instantaneous notification of specific system behaviors.

 






Poster THPPC082 [4.693 MB]
            
 


 



THPPC083
Software Tool Leverages Existing Image Analysis Results to Provide In-Situ Transmission of the NIF Disposable Debris Shields
1270


 

V.J. Miller Kamm, A.A.S. Awwal, J.-M.G. Di Nicola, P. Di Nicola, S.N. Dixit, D.L. McGuigan, B.A. Raymond, K.C. Wilhelmsen
                       LLNL, Livermore, California, USA

 


 

Funding: * This work was performed under the auspices of the Lawrence Livermore National Security, LLC, (LLNS) under Contract No. DE-AC52-07NA27344. #LLNL-ABS-632472
The Disposable Debris-Shield (DDS) Attenuation Tool is software that leverages Automatic Alignment image analysis results and takes advantage of the DDS motorized insertion and removal to compute the in-situ transmission of the 192 NIF DDS. The NIF employs glass DDS to protect the final optics from debris and shrapnel generated by the laser-target interaction. Each DDS transmission must be closely monitored and replaced when its physical characteristics impact laser performance. The tool was developed to calculate the transmission by obtaining the total pixel intensity of acquired images with the debris shield inserted and removed. These total intensities existed in the Automatic Alignment image processing algorithms. The tool uses this data, adding the capability to specify DDS to test, moves the DDS, performs calculations, and saves data to an output file. It operates on all 192 beams of the NIF in parallel, and has shown a discrepancy between laser predictive models and actual. As qualification the transmission of new DDS were tested, with known transmissions supplied by the vendor. This demonstrated the tool capable of measuring in-situ DDS transmission to better than 0.5% rms.

 






Poster THPPC083 [2.362 MB]
            
 


 



THPPC085
Image Analysis for the Automated Alignment of the Advanced Radiography Capability (ARC) Diagnostic Path*
1274


 

R.S. Roberts, A.A.S. Awwal, E.S. Bliss, R.R. Leach, M.C. Rushford, K.C. Wilhelmsen
                       LLNL, Livermore, California, USA

 


 

Funding: *This work was performed under the auspices of the U.S. Department of Energy by Lawrence Livermore National Laboratory under Contract DE-AC52-07NA27344. #LLNL-ABS-631616
The Advanced Radiographic Capability (ARC) at the National Ignition Facility was developed to produce a sequence of short laser pulses that are used to backlight an imploding fuel capsule. This backlighting capability will enable the creation of a sequence of radiographs during capsule implosion and provide an unprecedented view into the dynamics of the implosion. A critical element of the ARC is the diagnostic instrumentation used to assess the quality of the pulses. Pulses are steered to the diagnostic package through a complex optical path that requires precision alignment. A central component of the alignment system is the image analysis algorithms, which are used to extract information from alignment imagery and provide feedback for the optical alignment control loops. Alignment imagery consists of complex patterns of light resulting from the diffraction of pilot beams around cross-hairs and other fiducials placed in the optical path. This paper describes the alignment imagery, and the image analysis algorithms used to extract the information needed for proper operation of the ARC automated alignment loops.

 






Poster THPPC085 [3.236 MB]
            
 


 



THPPC086
Analyzing Off-normals in Large Distributed Control Systems using Deep Packet Inspection and Data Mining Techniques
1278


 

M.A. Fedorov, G.K. Brunton, C.M. Estes, J.M. Fisher, C.D. Marshall, E.A. Stout
                       LLNL, Livermore, California, USA

 


 

Funding: This work performed under the auspices of the U.S. Department of Energy by Lawrence Livermore National Laboratory under Contract DE-AC52-07NA27344. #LLNL-ABS-632814
Network packet inspection using port mirroring provides the ultimate tool for understanding complex behaviors in large distributed control systems. The timestamped captures of network packets embody the full spectrum of protocol layers and uncover intricate and surprising interactions. No other tool is capable of penetrating through the layers of software and hardware abstractions to allow the researcher to analyze an integrated system composed of various operating systems, closed-source embedded controllers, software libraries and middleware. Being completely passive, the packet inspection does not modify the timings or behaviors. The completeness and fine resolution of the network captures present an analysis challenge, due to huge data volumes and difficulty of determining what constitutes the signal and noise in each situation. We discuss the development of a deep packet inspection toolchain and application of the R language for data mining and visualization. We present case studies demonstrating off-normal analysis in a distributed real-time control system. In each case, the toolkit pinpointed the problem root cause which had escaped traditional software debugging techniques.

 






Poster THPPC086 [2.353 MB]
            
 


 



THPPC089
High Repetition Rate Laser Beamline Control System
1281


 

T. Mazanec
                       ELI-BEAMS, Prague, Czech Republic

 


 

Funding: The authors acknowledge the support of the following grants of the Czech Ministry of Education, Youth and Sports "CZ.1.05/1.1.00/02.0061" and "CZ.1.07/2.3.00/20.0091".
ELI-Beamlines will be a high-energy, high repetition-rate laser pillar of the ELI (Extreme Light Infrastructure) project. It will be an international user facility for both academic and applied research, scheduled to provide user capability from the beginning of 2017. As part of the development of L1 laser beamline we are developing a prototype control system. The beamline repetition rate of 1kHz with its femtosecond pulse accuracy puts demanding requirements on both control and synchronization systems. A low-jitter high-precision commercial timing system will be deployed to accompany both EPICS- and LabVIEW-based control system nodes, many of which will be enhanced for real-time responsiveness. Data acquisition will be supported by an in-house time-stamping mechanism relying on sub-millisecond system responses. The synergy of LabVIEW Real-Time and EPICS within particular nodes should be secured by advanced techniques to achieve both fast responsiveness and high data-throughput.
*tomas.mazanec@eli-beams.eu

 






Poster THPPC089 [1.286 MB]
            
 


 



THPPC090
Picoseconds Timing System
1285


 

D. Monnier-Bourdin, B. Riondet
                       GreenField Technology, Breuillet, France
S. Perez
                       CEA, Arpajon, France

 


 

The instrumentation of large physics experiments needs to be synchronized down to few picoseconds. These experiments require different sampling rates for multi shot or single shot on each instrument distributed on a large area. Greenfield Technology presents a commercial solution with a Picoseconds Timing System built around a central Master Oscillator which delivers a serial data stream over an optical network to synchronize local multi channel delay generators. This system is able to provide several hundreds of trigger pulses within a 1ps resolution and a jitter less than 15 ps distributed over an area up to 10 000 m². The various qualities of this Picoseconds Timing System are presented with measurements and functions and have already been implemented in French facilities (Laser MegaJoule prototype - Ligne d’Intégration Laser- , petawatt laser applications and synchrotron Soleil). This system with different local delay generator form factors (box, 19” rack, cPCI or PXI board) and many possibilities of trigger pulse shape is the ideal solution to synchronize Synchrotron, High Energy Laser or any Big Physics Experiments.

 






Poster THPPC090 [1.824 MB]
            
 


 



THPPC092
FAIR Timing System Developments Based on White  Rabbit
1288


 

C. Prados, R. Bär, D.H. Beck, J. Hoffmann, M. Kreider, S. Rauch, W.W. Terpstra, M. Zweig
                       GSI, Darmstadt, Germany
M. Kreider
                       Glyndŵr University, Wrexham, United Kingdom

 


 

A new timing system based on White Rabbit (WR) is being developed for the upcoming FAIR facility at GSI, in collaboration with CERN, other institutes and industry partners. The timing system is responsible for the synchronization of nodes with nanosecond accuracy and distribution of timing messages, which allows for real-time control of the accelerator equipment. WR is a fully deterministic Ethernet-based network for general data transfer and synchronization, which is based on Synchronous Ethernet and PTP. The ongoing development at GSI aims for a miniature timing system, which is part of a control system of a proton source, that will be used at one of the accelerators at FAIR. Such a timing system consists of a Data Master generating timing messages, which are forwarded by a WR switch to a handful of timing receiver. The next step is an enhancement of the robustness, reliability and scalability of the system. These features will be integrated in the forthcoming CRYRING control system in GSI. CRYRING serves as a prototype and testing ground for the final control system for FAIR. The contribution presents the overall design and status of the timing system development.

 






Poster THPPC092 [0.549 MB]
            
 


 



THPPC095
A Proof-of-Principle Study of a Synchronous Movement of an Undulator Array Using an EtherCAT Fieldbus at European XFEL
1292


 

S. Karabekyan, A. Beckmann, J. Pflüger, M. Yakopov
                       XFEL. EU, Hamburg, Germany

 


 

The European XFEL project is a 4th generation X-ray light source. The undulator systems SASE 1, SASE 2 and SASE 3 are used to produce photon beams. Each undulator system consists of an array of undulator cells installed in a row along the electron beam. The motion control of an undulator system is carried out by means of industrial components using an EtherCAT fieldbus. One of its features is motion synchronization for undulator cells which belong to the same system. This paper describes the technical design and software implementation of the undulator system control providing that feature. It presents the results of an on-going proof-of-principle study of synchronous movement of four undulator cells as well as study of movement synchronization between undulator and phase shifter.

 






Poster THPPC095 [3.131 MB]
            
 


 



THPPC102
Comparison of Synchronization Layers for Design of Timing Systems
1296


 

A. Aulin Söderqvist, N. Claesson, J. Neves Rodrigues
                       Lund University, Lund, Sweden
J. Dedič, R. Štefanič, R. Tavčar
                       Cosylab, Ljubljana, Slovenia

 


 

Two synchronization layers for timing systems in large experimental physics control systems are compared. White Rabbit (WR), which is an emerging standard, is compared against the well-established event based approach. Several typical timing system services have been implemented on an FPGA using WR to explore its concepts and architecture, which is fundamentally different from an event based. Both timing system synchronization layers were evaluated based on typical requirements of current accelerator projects and with regard to other parameters such as scalability. The proposed design methodology demonstrates how WR can be deployed in future accelerator projects.

 






Poster THPPC102 [1.796 MB]
            
 


 



THPPC103
Timing System at MAX IV
1300


 

J.J. Jamroz, V.H. Hardion, J. Lidón-Simon, L. Malmgren, A. Milán, A.M. Mitrovic, R. Nilsson, M. Sjöström, D.P. Spruce
                       MAX-lab, Lund, Sweden

 


 

The MAX IV Laboratory is the successor of the MAX-lab national laboratory in Sweden. The facility is being constructed at Brunnshög in the North Eastern part of Lund and will contain one long linac 3GeV (full energy injector), two storage rings (SR 1.5GeV and SR 3GeV) and a short pulse facility (SPF). This paper describes the design status of the timing system in 2013.

 






Poster THPPC103 [7.134 MB]
            
 


 



THPPC104
A Timing System for Cycle Based Accelerators
1303


 

J. Gutleber
                       CERN, Geneva, Switzerland
Z. Croflic, J. Dedič, R. Štefanič
                       Cosylab, Ljubljana, Slovenia

 


 

Synchrotron accelerators with multiple ion sources and beam lines require a high degree of flexibility to define beam cycle timing sequences. We have therefore decided to design a ready-to-use accelerator timing system based on off-the-shelf hardware and software that can fit mid-size accelerators and that is easy to adapt to specific user needs. This Real Time Event Distribution Network (REDNet) has been developed under the guidance of CERN within the MedAustron-CERN collaboration. The system based on the MRF transport layer has been implemented by Cosylab. While we have used hardware on NI PXIe platform, it is straightforward to obtain it for other platforms such as VME. The following characteristics are key to its readiness for use: (1) turn-key system comprising hardware, transport layer, application software and open integration interfaces, (2) performance suitable for a wide range of accelerators, (3) multiple virtual timing systems in one physical box, (4) documentation developed according to V-model. Given the maturity of the development, we have decided to make REDNet available as a product through our industrial partner.

 






Poster THPPC104 [0.429 MB]
            
 


 



THPPC105
The LHC Injection Sequencer
1307


 

D. Jacquet, J.C. Bau, I. Kozsar
                       CERN, Geneva, Switzerland

 


 

The LHC is the largest accelerator at CERN. The 2 beams of the LHC are colliding in four experiments, each beam can be composed up to 2808 high intensity bunches. The beams are produced at the LINAC, is shaped and accelerated in the LHC injectors to 450GeV. The injected beam contains up to 288 high intensity bunches, corresponding to a stored energy of 2MJ. To build for each LHC ring the complete bunch scheme that ensure a desired number of collision for each experiment, several injections are needed from the SPS to the LHC. The type of beam that is needed and the longitudinal emplacement of each injection have to be defined with care. This process is controlled by the injection sequencer and it orchestrates the beam requests. Predefined filling schemes stored in a database are used to indicate the number of injection, the type of beam and the longitudinal place of each. The injection sequencer sends the corresponding beam requests to the CBCM, the central timing manager which in turn synchronizes the beam production in the injectors. This paper will describe how the injection sequencer is implemented and its interaction with the other systems involved in the injection process.

 






Poster THPPC105 [0.606 MB]
            
 


 



THPPC107
Timing and Synchronization at Beam Line Experiments
1311


 

H. Blaettler Pruchova, T. Korhonen
                       PSI, Villigen PSI, Switzerland

 


 

Some experiment concepts require a control system with the individual components working synchronously. At PSI the control system for X-ray experiments is distributed in several VME crates, on several EPICS soft ioc servers and linux nodes, which need to be synchronized. The timing network using fibre optics, separated from standard network based on TCP/IP protocol, is used for distributing of time stamps and timing events. The synchronization of all control components and data acquisition systems has to be done automatically with sufficient accuracy and is done by event distribution and/or by synchronization by I/O trigger devices. Data acquisition is synchronized by hardware triggers either produced by sequences in event generator or by motors in case of on-the-fly scans. Some detectors like EIGER with acquisition rate close to 20kHz, fast BPMs connected to current measuring devices like picoammmeters with sampling frequences up to 26 kHz and photodiodes are integrated to measure beam properties and radiation exposures. The measured data are stored on various file servers situated within one BL subnetwork. In this paper we describe a concept for implementing such a system.

 


 



THPPC109
Status of the TPS Timing System
1314


 

C.Y. Wu, J. Chen, Y.-S. Cheng, K.T. Hsu
                       NSRRC, Hsinchu, Taiwan

 


 

Implementation of timing system of the Taiwan Photon Source (TPS) is underway. Timing system provides synchronization for electron gun, modulators of linac, pulse magnet power supplies, booster power supply ramp trigger, bucket addressing of storage ring, diagnostic equipments, beamline gating signal for top-up injection, synchronize for the time-resolved experiments. The system is based on event distribution system that broadcasts the timing events over optic fiber network, and decodes and processes them at the timing event receivers. The system supports uplink functionality which will be used for the fast interlock system to distribute signals like beam dump and post-mortem trigger with less than 5 μsec response time. Software support is in preceded. Time sequencer to support various injection modes is in development. Timing solutions for the TPS project will summary in following paragraphs.

 






Poster THPPC109 [1.612 MB]
            
 


 



THPPC110
Timing of the ALS Booster Injection and Extraction
1318


 

C. Serrano, J.M. Weber
                       LBNL, Berkeley, California, USA

 


 

The Advanced Light Source (ALS) timing system upgrade introduces a complete replacement of both the hardware and the technology used to drive the timing of the accelerator. The implementation of a new strategy for the booster injection and extraction mechanisms is conceptually similar to the one in place today, but fundamentally different due to the replacement of the technology. Here we describe some of the building blocks of this new implementation as well as an example of how the system can be configured to provide timing for injection and extraction of the ALS booster.

 






Poster THPPC110 [0.207 MB]
            
 


 



THPPC112
The LANSCE Timing Reference Generator
1321


 

R.B. Merl, S.A. Baily, E. Björklund, R.C. Clanton, F.E. Shelley
                       LANL, Los Alamos, New Mexico, USA

 


 

The Los Alamos Neutron Science Center is an 800 MeV linear proton accelerator at Los Alamos National Laboratory. For optimum performance, power modulators must be tightly coupled to the phase of the power grid. Downstream at the neutron scattering center there is a competing requirement that rotating choppers follow the changing phase of neutron production in order to remove unwanted energy components from the beam. While their powerful motors are actively accelerated and decelerated to track accelerator timing, they cannot track instantaneous grid phase changes. A new timing reference generator has been designed to couple the accelerator to the power grid through a phase locked loop. This allows some slip between the phase of the grid and the accelerator so that the modulators stay within their timing margins, but the demands on the choppers are relaxed. This new timing reference generator is implemented in 64 bit floating point math in an FPGA. Operators in the control room have real-time network control over the AC zero crossing offset, maximum allowed drift, and slew rate - the parameter that determines how tightly the phase of the accelerator is coupled to the power grid.
LA-UR-13-21289

 


 



THPPC113
Integrated Timing System for the EBIS Pre-Injector
1325


 

J. Morris, S. Binello, L.T. Hoff, C. Theisen
                       BNL, Upton, Long Island, New York, USA

 


 

Funding: Work supported by Brookhaven Science Associates, LLC under Contract No. DE-AC02-98CH10886 with the U.S. Department of Energy.
The Electron Beam Ion Source (EBIS) began operating as a pre-injector in the C-AD RHIC accelerator complex in 2010.   Historically, C-AD RHIC pre-injectors, like the 200MeV Linac, have had largely independent timing systems that receive a minimal number of triggers from the central C-AD timing system to synchronize the injection process.  The EBIS timing system is much more closely integrated into central C-AD timing, with all EBIS machine cycles included in the master supercycle that coordinates the interoperation of C-AD accelerators.   The integrated timing approach allows better coordination of pre-injector activities with other activities in the C-AD complex. Independent pre-injector operation, however, must also be supported by the EBIS timing system. This paper describes the design of the EBIS timing system and evaluates experience in operational management of EBIS timing. 

 






Poster THPPC113 [21.388 MB]
            
 


 



THPPC115
Fast Orbit Feedback Implementation at Alba Synchrotron
1328


 

X. Serra-Gallifa, S. Blanch-Torné, D.F.C. Fernández-Carreiras, A. Gutierrez-Milla, Z. Martí, O. Matilla, J. Moldes, A. Olmos, R. Petrocelli
                       CELLS-ALBA Synchrotron, Cerdanyola del Vallès, Spain

 


 

After the successful accelerator commissioning and with the facility already in operation one of the top short term objectives pointed out by accelerator division was the Fast Orbit Feedback implementation (FOFB). The target of the FOFB system is to hold the electron beam position at submicron range both in vertical and horizontal planes correcting the inestabilities up to 120Hz. This increased beam stability performance is considered a major asset for the beamlines user operation. To achieve this target, the orbit position is acquired from the 88 Libera BPMs at a 10KHz sampling rate, distributed through an independent network and the corrections are calculated and sent to the 176 power supplies that drive the corrector coils. All this correction loop is executed at 10 KHz and the total latency of the system is characterized and minimized optimizing the bandwidth response.

 






Poster THPPC115 [0.732 MB]
            
 


 



THPPC116
Temperature Precise Control in a Large Scale Helium Refrigerator
1331


 

Wu,J.H. wu, Q. Li, W. Pan
                       TIPC, BeiJing, People's Republic of China

 


 

Precise control of operating load temperature is a key requirement for application of a large scale helium refrigerator. Strict control logic and time sequence are necessary in the process related to main components including a fine load, turbine expanders and compressors. However control process sequence may become disordered due to improper PID parameter settings and logic equations and causes temperature oscillation, load augmentation or protection of the compressors and cryogenic valve function failure etc. Combination of experimental studies and simulation models, effect of PID parameters adjustment on the control process is present in detail. The methods and rules of general parameter settings are revealed and the suitable control logic equations are derived for temperature stabilization.

 






Poster THPPC116 [0.584 MB]
            
 


 



THPPC117
A Control Strategy for Highly Regulated Magnet Power Supplies Using a LQR Approach
1334


 

S. Srivastava, Y. Kumar, A. Misra, V.S. Pandit, S. Sahoo, S.K. Thakur
                       VECC, Kolkata, India

 


 

A linear quadratic regulator (LQR) based proportional-Integrator-derivative (PID) controller is proposed for the SMPS based magnet power supply of the high current proton injector operational at VECC. The state weighting matrices ‘Q’ of the LQR based controller is derived analytically using guaranteed dominant pole placement approach with desired ‘ζ’ (maximum overshoot) and ‘ω’(rise time). The uniqueness of this scheme is that the controller gives the desired closed loop response with minimum control effort, hence avoiding the actuator saturation by utilizing both optimum behavior of LQR technique and simplicity of the conventional PID controller. The controller and power supply parameter perturbations is studied along with the load disturbance to verify the robustness of proposed control mechanism.

 


 



THPPC119
Software Architecture for the LHC Beam-based Feedback System at CERN
1337


 

L.K. Jensen, M. Andersen, K. Fuchsberger, S. Jackson, L. Ponce, R.J. Steinhagen, J. Wenninger
                       CERN, Geneva, Switzerland

 


 

This paper presents an overview of beam based feedback systems at the LHC at CERN. It will cover the system architecture which is split into two main parts – a controller (OFC) and a service unit (OFSU). The paper presents issues encountered during beam commissioning and lessons learned including follow-up from a recent review which took place at CERN

 






Poster THPPC119 [1.474 MB]
            
 


 



THPPC120
A Simplified Model of the International Linear Collider Final Focus System
1341


 

M. Oriunno, T.W. Markiewicz
                       SLAC, Menlo Park, California, USA
C.G.R.L. Collette, D. Tshilumba
                       ULB - FSA - SMN, Bruxelles, Belgium

 


 

Mechanical vibrations are the main sources of Luminosity Loss at the Final Focus System of the future Linear Colliders, where the nanometric beams are required to be extremely stable. Precise models are needed to validate the supporting scheme adopted. Where the beam structure allows it, as for the International Linear Collider (ILC), intra-trains Luminosity Feedback schemes are possible. Where this is not possible, as for the Compact Linear Collider (CLIC), an active stabilization of the doublets is required. Further complications arise from the optics requirements, which place the final doublet very close to the IP (~4m). We present a model of the SID detector, where the QD0 doublet is captured inside the detector and the QF1 magnet is inside the tunnel. Ground Motion measured at the SLD detector at SLAC have been used together with a model of the technical noise. The model predicts that the rms vibration of QDO is below the capture range of the IP feedback system available in the ILC. With the addition of an active stabilization system on QD0, it is also possible to achieve the stability requirements of CLIC. These results can have important implications for CLIC.

 


 



THPPC121
Feedbacks and Automation at the Free Electron Laser in Hamburg (FLASH)
1345


 

R. Kammering, Ch. Schmidt
                       DESY, Hamburg, Germany

 


 

For many years a set of historically grown Matlab scripts and tools have been used to stabilize transversal and longitudinal properties of the electron bunches at the FLASH. Though this Matlab-based approach comes in handy when commissioning or developing tools for certain operational procedures, it turns out to be quite tedious to maintain on the long run as it often lacks stability and performance e.g. in feedback procedures. To overcome these shortcomings of the Matlab-based approach, a server-based C++ solution in the DOOCS* framework has been realized at FLASH. Using the graphical UI designer jddd** a generic version of the longitudinal feedback has been implemented and put very fast into standard operation. The design uses sets of monitors and actuators plus their coupling which easily be adapted operation requirements. The daily routine operation of this server-based FB implementation has proven to offer a robust, well maintainable and flexible solution to the common problem of automation and control for such complex machines as FLASH and will be well suited for the European XFEL purposes.
* see e.g. http://doocs.desy.de ** see e.g. http//jddd.desy.de

 






Poster THPPC121 [9.473 MB]
            
 


 



THPPC122
High Performance and Low Latency Single Cavity RF Control Based on MTCA.4
1348


 

Ch. Schmidt, L. Butkowski, M. Hoffmann, H. Schlarb
                       DESY, Hamburg, Germany
M. Grzegrzółka, I. Rutkowski
                       Warsaw University of Technology, Institute of Electronic Systems, Warsaw, Poland

 


 

The European XFEL project at DESY requires a very precise RF control, fulfilling the objectives of high performance FEL generation. Within the MTCA.4 based hardware framework a LLRF system has been designed to control multi-cavity applications, require large processing capabilities. A generic software structure allows to apply the same design also for single-cavity applications, reducing efforts for maintenance. It has be demonstrated that the MTCA.4 based LLRF controller development achieves XFEL requirement in terms of amplitude and phase control. Due to the complexity of the signal part, which is not essential for a single cavity regulation an alternative framework has been developed, to minimize processing latency which is especially for high bandwidth applications very important. This setup is based on a fast processing advanced mezzanine card (AMC) combined with a down-converter and vector-modulator rear transition module (RTM). Within this paper the system layout and first measurement results are presented, demonstrating capabilities not only for LLRF specific applications.

 


 



THPPC123
Online Luminosity Optimization at the LHC
1351


 

F. Follin, R. Alemany-Fernandez, R. Jacobsson
                       CERN, Geneva, Switzerland

 


 

The online luminosity control of the LHC experiments consists of an automatic slow real-time feedback system controlled by a specific experiment software that communicates directly with an LHC application. The LHC application drives a set of corrector magnets to adjust the transversal beam overlap at the interaction point in order to keep the instantaneous luminosity aligned to the target luminosity provided by the experiment. This solution was proposed by the LHCb experiment and tested first in July 2010. It has been in routine operation during the first two years of physics luminosity data taking, 2011 and 2012, in LHCb. It was also adopted for the ALICE experiment during 2011. The experience provides an important basis for the potential future need of levelling the luminosity in all the LHC experiments. This paper describes the implementation of the LHC application controlling the luminosity at the experiments and the information exchanged that allows this automatic control.

 






Poster THPPC123 [1.344 MB]
            
 


 



THPPC125
Evaluation and Implementation of Advanced Process Control with the compactRIO Material of National Instrument
1355


 

G. Maire, A. Kehrli, M. Pezzetti, S. Ravat
                       CERN, Geneva, Switzerland
B. Charnier, H. Coppier
                       ESIEE, Amiens, France

 


 

Programmable Logic Controller (PLC) is very commonly used in many industries and research applications for process control. However a very complex process control may require algorithms and performances beyond the capability of PLCs, very high-speed or precision controls may also require other solutions. This paper describes recent research conducted to implement advanced process controls with the cRIO material from National Instruments (decoupling of MIMO process control, steady state feedback, observer, Kalman filter, etc). The cRIO systems consist of an embedded real-time controller for communication and processing, a Reconfigurable Field Programmable Array (FPGA) and hot-swappable I/O modules. The paper presents experimental results and the ability of the cRIO to treat complex process control.

 






Poster THPPC125 [1.004 MB]
            
 


 



THPPC128
The Feedback System for Damping Coherent Betatron and Synchrotron Oscillations of Electron Beam at Dedicated Synchrotron Radiation Source SIBERIA-2.
1359


 

A.S. Smygacheva, Y.A. Fomin, V. Korchuganov, N.I. Moseiko, Yu.F. Tarasov, A.G. Valentinov
                       NRC, Moscow, Russia
R. Cerne, R. Hrovatin, D.T. Tinta
                       I-Tech, Solkan, Slovenia

 


 

The description of feedback system for dumping coherent betatron and synchrotron oscillations of the electron beam which is realized at present time at the dedicated synchrotron radiation storage ring SIBERIA-2 in Kurchatov Institute is presented in the paper. The installation of new feedback system into the main ring SIBERIA-2 will allow to improve the quality of synchrotron radiation beams. In particular, at the beam injection energy (450 MeV) with the help of new feedback system we can increase maximum stored beam current and at operation beam energy (2.5 GeV) the system will provide additional electron beam spatial stabilization. The paper describes new feedback system description, the principle of operation and its technical characteristics. As well, we describe in detail the design of kickers (especially for longitudinal plane) used into the system as they are one of the important feedback system components.

 


 



THPPC129
Evolution of the FERMI Beam Based Feedbacks
1362


 

G. Gaio, M. Lonza
                       Elettra-Sincrotrone Trieste S.C.p.A., Basovizza, Italy

 


 

Funding: This work was supported in part by the Italian Ministry of University and Research under grants FIRB-RBAP045JF2 and FIRB-RBAP06AWK3
Evolution of the FERMI@Elettra Beam Based Feedbacks FERMI@Elettra is the first seeded Free Electron Laser (FEL) users facility. A number of shot-to-shot feedback loops running synchronously at the machine repetition rate stabilize the electron beam trajectory, energy and bunch length, as well as the trajectory of the laser beams used for the seeding and pump-probe experiments. They are based on a flexible real-time distributed framework integrated into the control system. The interdependence between feedback loops and the need to react coordinately to different operating conditions lead to the development of a real-time supervisor capable of controlling each loop depending on critical machine parameters not directly involved in the feedbacks. The overall system architecture, performance and user interfaces are presented.

 






Poster THPPC129 [1.381 MB]
            
 


 



THPPC135
From Pulse to Continuous Wave Operation of TESLA Cryomodules – LLRF System Software Modification and Development
1366


 

W. Cichalewski, W. Jałmużna, A. Piotrowski, K.P. Przygoda
                       TUL-DMCS, Łódź, Poland
V. Ayvazyan, J. Branlard, H. Schlarb, J.K. Sekutowicz
                       DESY, Hamburg, Germany
J. Szewiński
                       NCBJ, Świerk/Otwock, Poland

 


 

Funding: We acknowledge the support from National Science Center (Poland) grant no 5593/B/T02/2010/39
Higher efficiency of TESLA based free electron lasers (FLASH, XFEL) by means of increased quantity of photon bursts can be achieved using continuous wave operation mode. In order to maintain constant beam acceleration in superconducting cavities and keep short pulse to CW operation transition costs reasonably low some substantial modification of accelerator subsystems are necessary. Changes in: RF power source, cryo systems, electron beam source, etc. have to be also accompanied by adjustments in LLRF system. In this paper challenges for well established pulsed mode LLRF system are discussed (in case of CW and LP scenarios). Firmware, software modifications needed for maintaining high performance of cavities field parameters regulation (for 1Hz CW and LP cryo-module operation) are described. Results from studies of vector sum amplitude and phase control in case of resonators high Ql factor settings (Ql~1.5e7) are shown. Proposed modifications implemented in VME and microTCA (MTCA.4) based LLRF system has been tested during studies at CryoModule Test Bench (CMTB) in DESY. Results from this tests together with achieved regulation performance data are also presented and discussed.

 






Poster THPPC135 [1.310 MB]
            
 


 



THPPC136
Stabilizing the Beam Current Split Ratio in TRIUMF's 500 MeV Cyclotron with High Level, Closed-Loop Feedback Software
1370


 

J.J. Pon, K.S. Lee, M. Mouat, T. Planche, P.J. Yogendran
                       TRIUMF, Canada's National Laboratory for Particle and Nuclear Physics, Vancouver, Canada

 


 

In the pursuit of progressively more stable beam currents at TRIUMF's 500 MeV cyclotron there was a proposal to regulate the beam current split ratio for two primary beamlines with closed-loop feedback. Initial runs have shown promising results and have justified further efforts in that direction. This paper describes the software to provide the closed-loop feedback, and future developments.

 






Poster THPPC136 [4.309 MB]
            
 


 



THPPC137
Time Domain Simulation Software of the APS  Storage Ring Orbit Real-time Feedback System
1373


 

H. Shang, J. Carwardine, G. Decker, L. Emery, F. Lenkszus, N. Sereno, S. Xu
                       ANL, Argonne, USA

 


 

The APS storage ring real-time feedback (RTFB) system will be upgraded as part of the APS Upgrade project. The time domain simulation software is implemented to find the best parameters of correctors and evaluate the performance of different system configurations. The software includes two parts: the corrector noise model generator and the RTFB simulation. The corrector noise model generates the corrector noise data that are the input for the RTFB simulation. The corrector noise data are generated from the measured APS BPM turn-by-turn noise data, so that simulation actually reproduces the real machine. This paper introduces the algorithm and high-level software development of the corrector noise model generator and the RTFB simulation.
Work supported by U.S. Department of Energy, Office of Science, Office of Basic Energy Sciences, under Contract No. DE-AC02-06CH11357.

 






Poster THPPC137 [0.445 MB]
            
 


 



THPPC138
A System for Automatic Locking of Resonators of Linac at IUAC
1376


 

R.N. Dutt, G.K. Chaudhari, S. Ghosh, D. Kanjilal, J. Karmakar, A. Pandey, P. Patra, A. Rai, A. Roy, B.K. Sahu
                       IUAC, New Delhi, India
S. Sahoo
                       VECC, Kolkata, India

 


 

The superconducting LINAC booster of IUAC consists of five cryostats housing a total of 27 Nb quarter wave resonators (QWRs). The QWRs are phase locked against the master oscillator at a frequency of 97 MHz. Cavity frequency tuning is done by a Helium gas based slow tuner. Presently, the frequency tuning and cavity phase locking is done from the control room consoles. To automate the LINAC operation, an automatic phase locking system has been implemented. The slow tuner gas pressure is automatically controlled in response to the frequency error of the cavity. The fast tuner is automatically triggered into phase lock when the frequency is within the lock window. This system has band implemented sucessfully on a few cavities. The system is now being installed for the remaining cavities of the LINAC booster.
[1]S.Ghosh et al Phys. Rev. ST Accel. Beams 12, 040101 (2009).

 






Poster THPPC138 [4.654 MB]
            
 


 



THPPC140
MTCA Upgrade of the Readout Electronics for the Bunch Arrival Time Monitor at FLASH
1380


 

J. Szewiński, G. Boltruczyk, S. Korolczuk
                       NCBJ, Świerk/Otwock, Poland
S. Bou Habib, J. Dobosz, D. Sikora
                       Warsaw University of Technology, Institute of Electronic Systems, Warsaw, Poland
C. Gerth, H. Schlarb
                       DESY, Hamburg, Germany

 


 

Bunch Arrival time Monitor (BAM) is an electro-optical device used at FLASH accelerator in DESY for the high precision, femtosecond scale, measurements of the moment when electron bunch arrives at the reference point in the machine. The arrival time is proportional to the average bunch energy, and is used to calculate the amplitude correction for RF field control. Correction is sent to the LLRF system in less than 10 us, and this creates a secondary feedback loop (over the regular LLRF one), which is focused on beam energy stabilization - beam feedback. This paper presents new uTCA BAM readout electronics design based on the uTCA.4 – “uTCA for Physics” and FMC mezzanine boards standards. Presented solution is a replacement for existing, VME based BAM readout devices. It provides higher efficiency by using new measurement techniques, better components (such as ADCs, FPGAs etc.), and high bandwidth uTCA backplane. uTCA provides also different topology for data transfers in the crate, which all together opens new opportunities for the improvement of the overall system performance.

 






Poster THPPC140 [14.281 MB]
            
 


 



THPPC141
Automatic Alignment Upgrade of Advanced Radiographic Capability for the National Ignition Facility
1384


 

K.C. Wilhelmsen, E.S. Bliss, G.K. Brunton, B.T. Fishler, R.R. Lowe-Webb, D.L. McGuigan, R.S. Roberts, M.C. Rushford
                       LLNL, Livermore, California, USA

 


 

Funding: This work was performed under the auspices of the Lawrence Livermore National Security, LLC, (LLNS) under Contract No. DE-AC52-07NA27344. #LLNL-ABS-632633
For many experiments planned on the National Ignition Facility (NIF), high-energy x-ray backlighters are an important diagnostic. NIF will be deploying this year a new Advanced Radiographic Capability (ARC) for generating these high-energy short-pulses. The precision of the Automatic Alignment (AA) for ARC is an important element in the success of the enhancement. A key aspect of the ARC AA is integration of the new alignment capabilities without disturbing the existing AA operations of NIF. Small pointing tolerances of 5 micron precision to a 10 micron target are required. After main amplification the beams are shortened by up to 1,000x in time in the ARC compressor vessel and aimed at backlighter targets in the NIF target chamber. Alignment Stability and Verification of the compressor gratings is critical to ensuring the ARC pulses meet their experimental specifications.

 






Poster THPPC141 [4.485 MB]
            
 


 




